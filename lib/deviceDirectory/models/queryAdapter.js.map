{"version":3,"sources":["deviceDirectory/models/queryAdapter.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;EAeE;;AAEF,oDAAoE;AAOpE,sCAAqC;AAErC,iCAAgC;AAEhC;;GAEG;AACH;IAAA;IAyBA,CAAC;IAvBiB,gBAAG,GAAjB,UAAkB,IAAc,EAAE,GAAuB;QACrD,MAAM,CAAC,IAAI,aAAK,CAAC;YACb,MAAM,EAAe,wBAAY,CAAC,IAAI,CAAC,KAAK,EAAE,iBAAO,CAAC,iBAAiB,EAAE,iBAAO,CAAC,cAAc,CAAC;YAChG,SAAS,EAAY,IAAI,CAAC,UAAU;YACpC,EAAE,EAAmB,IAAI,CAAC,EAAE;YAC5B,IAAI,EAAiB,IAAI,CAAC,IAAI;YAC9B,SAAS,EAAY,IAAI,CAAC,UAAU;SACvC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAEa,mBAAM,GAApB,UAAqB,IAAoB;QACrC,MAAM,CAAC;YACH,IAAI,EAAY,IAAI,CAAC,IAAI;YACzB,KAAK,EAAW,wBAAY,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAO,CAAC,iBAAiB,EAAE,iBAAO,CAAC,cAAc,CAAC,IAAI,IAAI;SACvG,CAAC;IACN,CAAC;IAEa,sBAAS,GAAvB,UAAwB,IAAuB;QAC3C,MAAM,CAAC;YACH,IAAI,EAAY,IAAI,CAAC,IAAI;YACzB,KAAK,EAAW,wBAAY,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAO,CAAC,iBAAiB,EAAE,iBAAO,CAAC,cAAc,CAAC,IAAI,IAAI;SACvG,CAAC;IACN,CAAC;IACL,mBAAC;AAAD,CAzBA,AAyBC,IAAA;AAzBY,oCAAY","file":"queryAdapter.js","sourcesContent":["/*\n* Mbed Cloud JavaScript SDK\n* Copyright Arm Limited 2017\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { encodeFilter, decodeFilter } from \"../../common/functions\";\nimport {\n    DeviceQuery as apiQuery,\n    DeviceQueryPostPutRequest as apiQueryAdd,\n    DeviceQueryPatchRequest as apiQueryUpdate\n} from \"../../_api/device_directory\";\nimport { DeviceDirectoryApi } from \"../deviceDirectoryApi\";\nimport { Filters } from \"../filters\";\nimport { AddQueryObject, UpdateQueryObject } from \"../types\";\nimport { Query } from \"./query\";\n\n/**\n * Query Adapter\n */\nexport class QueryAdapter {\n\n    public static map(from: apiQuery, api: DeviceDirectoryApi): Query {\n        return new Query({\n            filter:              decodeFilter(from.query, Filters.DEVICE_FILTER_MAP, Filters.NESTED_FILTERS),\n            createdAt:           from.created_at,\n            id:                  from.id,\n            name:                from.name,\n            updatedAt:           from.updated_at,\n        }, api);\n    }\n\n    public static addMap(from: AddQueryObject): apiQueryAdd {\n        return {\n            name:           from.name,\n            query:          encodeFilter(from.filter, Filters.DEVICE_FILTER_MAP, Filters.NESTED_FILTERS) || null\n        };\n    }\n\n    public static updateMap(from: UpdateQueryObject): apiQueryUpdate {\n        return {\n            name:           from.name,\n            query:          encodeFilter(from.filter, Filters.DEVICE_FILTER_MAP, Filters.NESTED_FILTERS) || null\n        };\n    }\n}\n"],"sourceRoot":"../../../src"}