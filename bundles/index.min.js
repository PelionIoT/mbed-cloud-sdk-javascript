!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.MbedCloudSDK=e()}}(function(){var e;return function(){function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){return o(t[a][1][e]||e)},p,p.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("typescript-logging");r.loggerFactory=function(e,t){var r=new n.LoggerFactoryOptions;switch(t){case"FATAL":r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Fatal));break;case"ERROR":r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Error));break;case"WARN":r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Warn));break;case"INFO":r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Info));break;case"DEBUG":r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Debug));break;case"ALL":r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Trace));break;default:r.addLogGroupRule(new n.LogGroupRule(new RegExp(".+"),n.LogLevel.Fatal))}return n.LFService.createNamedLoggerFactory(e+"SDKLogger",r)}},{"typescript-logging":134}],2:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,i=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){u.label=r[1];break}if(6===r[0]&&u.label<a[1]){u.label=a[1],a=r;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(r);break}a[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("../legacy/common/listResponse");r.executeForAll=function(e,t){var r=function(n){return e({after:n}).then(function(e){var n=e.data,o=e.hasMore,i=n.map(function(e){var r=e.id;return t(r)});return Promise.all(i).then(function(){return o?r(n[n.length-1].id):null})})};return r()};var a=function(){function e(e,t){this.maxResults=t?t.maxResults||t.limit||50:50,this.listOptions=Object.create(t||null);"pageSize"in this.listOptions&&(this.listOptions.limit=this.listOptions.pageSize),this.pageRequester=e,this.collectionTotalCount=void 0,this.reset()}return e.prototype.reset=function(){this.currentPageIndex=-1,this.currentElementIndex=-1,this.isFirstRequest=!0,this.currentPageData=null},e.prototype.setCurrentPage=function(e){this.currentPageData=e,this.currentPageIndex++},e.prototype.fetchNextPageCursor=function(e){return e&&0!==e.data.length?e.continuationMarker?e.continuationMarker:this.fetchIdOfLastElement(e):null},e.prototype.fetchIdOfLastElement=function(e){var t=e.data.slice(-1).pop();return""+(t.id||t)},e.prototype.hasNewPage=function(){return!(this.maxResults&&this.pageSize()*(this.currentPageIndex+1)>this.maxResults)&&(this.currentPageData?this.currentPageData.hasMore:this.isFirstRequest)},e.prototype.nextPage=function(){var e=this;if(this.hasNewPage()){this.currentElementIndex=-1;var t=this.currentPageIndex<0?null:this.fetchNextPageCursor(this.currentPageData),r=Object.create(this.listOptions||null);return r.after=t,this.pageRequester(r).then(function(t){return e.setCurrentPage(t),e.isFirstRequest=!1,t}).then(function(t){return t&&0!==t.data.length?new i.ListResponse(t,t.data.slice(0,e.remainingElementsNumber())):null}).catch(function(e){throw e})}return Promise.resolve(null)},e.prototype[Symbol.asyncIterator]=function(){return this.reset(),this},e.prototype.return=function(e){return Promise.resolve({value:e,done:!0})},e.prototype.throw=function(e){throw e},e.prototype.totalCount=function(){var e=this;if(this.collectionTotalCount)return Promise.resolve(this.collectionTotalCount);if(this.currentPageData&&this.currentPageData.totalCount)return this.collectionTotalCount=this.currentPageData.totalCount,Promise.resolve(this.collectionTotalCount);var t=Object.create(this.listOptions||null);return t.include&&t.include instanceof Array?t.include.push("totalCount"):t.include=["totalCount"],this.pageRequester(t).then(function(t){return e.collectionTotalCount=t?t.totalCount:void 0,e.collectionTotalCount}).catch(function(e){throw e})},e.prototype.pageSize=function(){return this.currentPageData?this.currentPageData.data.length:this.listOptions.limit},e.prototype.hasNext=function(){if(this.hasNewPage())return!0;var e=this.remainingElementsNumber();return this.currentElementIndex<e-1},e.prototype.remainingElementsNumber=function(){var e=this.maxResults?this.maxResults-this.pageSize()*this.currentPageIndex:this.pageSize();return e?e<0?0:e:null},e.prototype.fetchElementInPage=function(e,t,r,n){if(!e)return null;var o=t>r?r:t;return n&&(this.currentElementIndex=o),o<0||o>=e.data.length?null:e.data[o]},e.prototype.first=function(){return this.reset(),this.nextItem()},e.prototype.nextItem=function(){var e=this;if(this.currentElementIndex++,this.currentPageData){var t=this.fetchElementInPage(this.currentPageData,this.currentElementIndex,this.remainingElementsNumber(),!1);return t?Promise.resolve(t):this.nextPage().then(function(t){return t?e.nextItem():null})}return this.nextPage().then(function(t){return t?e.nextItem():null})},e.prototype.next=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return this.hasNext()?[4,this.nextItem()]:[3,2];case 1:if(e=t.sent())return[2,{value:e,done:!1}];t.label=2;case 2:return[2,{value:null,done:!0}]}})})},e.prototype.browseAndConcatenateAllPages=function(){var e=this;return this.hasNewPage()?this.nextPage().then(function(t){return e.browseAndConcatenateAllPages().then(function(e){return t&&t.data?0===t.data.length?e:t.data.concat(e):[]})}):Promise.resolve([])},e.prototype.executeOnAllElements=function(e){var t=this;return this.hasNext()?this.nextItem().then(function(t){return e(t)}).then(function(){return t.executeOnAllElements(e)}):Promise.resolve()},e.prototype.executeForAll=function(e){return this.reset(),this.executeOnAllElements(e)},e.prototype.all=function(){return this.reset(),this.browseAndConcatenateAllPages()},e}();r.Paginator=a},{"../legacy/common/listResponse":45}],3:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getBillingReport=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'month' missing.")));var n={},o={};void 0!==e&&(o.month=e);var a={},s=[],u=["application/json"];return this.request({url:"/v3/billing-report",method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getBillingReportActiveDevices=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'month' missing.")));var n={},o={};void 0!==e&&(o.month=e);var a={},s=[],u=["application/json"];return this.request({url:"/v3/billing-report-active-devices",method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getBillingReportFirmwareUpdates=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'month' missing.")));var n={},o={};void 0!==e&&(o.month=e);var a={},s=[],u=["application/json"];return this.request({url:"/v3/billing-report-firmware-updates",method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getServicePackageQuota=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v3/service-packages-quota",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.getServicePackageQuotaHistory=function(e,t,r,n){var o={},i={};void 0!==e&&(i.limit=e),void 0!==t&&(i.after=t);var a={},s=[],u=["application/json"];return this.request({url:"/v3/service-packages-quota-history",method:"GET",headers:o,query:i,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:n},r)},t.prototype.getServicePackages=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v3/service-packages",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t}(o.ApiBase);r.DefaultApi=a},{"../common/apiBase":40,"../common/sdkError":46}],4:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.deletePreSharedKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'endpointName' missing.")));var n={},o={},a={},s=[],u=[];return this.request({url:"/v2/device-shared-keys/{endpoint_name}".replace("{endpoint_name}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getPreSharedKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'endpointName' missing.")));var n={},o={},a={},s=[],u=[];return this.request({url:"/v2/device-shared-keys/{endpoint_name}".replace("{endpoint_name}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.listPreSharedKeys=function(e,t,r,n){var o={},i={};void 0!==e&&(i.limit=e),void 0!==t&&(i.after=t);var a={},s=["application/json"],u=["application/json"];return this.request({url:"/v2/device-shared-keys",method:"GET",headers:o,query:i,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:n},r)},t.prototype.uploadPreSharedKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v2/device-shared-keys",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t}(o.ApiBase);r.PreSharedKeysApi=a},{"../common/apiBase":40,"../common/sdkError":46}],5:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.createDeveloperCertificate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'authorization' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={};void 0!==e&&(o.Authorization=e);var a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/developer-certificates",method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.getDeveloperCertificate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'developerCertificateId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'authorization' missing.")));var o={};void 0!==t&&(o.Authorization=t);var a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/developer-certificates/{developerCertificateId}".replace("{developerCertificateId}",String(e)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t}(o.ApiBase);r.DeveloperCertificateApi=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getAllServerCredentials=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'authorization' missing.")));var n={};void 0!==e&&(n.Authorization=e);var o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/server-credentials",method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getBootstrapServerCredentials=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'authorization' missing.")));var n={};void 0!==e&&(n.Authorization=e);var o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/server-credentials/bootstrap",method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getL2M2MServerCredentials=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'authorization' missing.")));var n={};void 0!==e&&(n.Authorization=e);var o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/server-credentials/lwm2m",method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t}(o.ApiBase);r.ServerCredentialsApi=s},{"../common/apiBase":40,"../common/sdkError":46}],6:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.deviceCreate=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'device' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/devices/",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.deviceDestroy=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'id' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/devices/{id}/".replace("{id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deviceEventList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/device-events/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.deviceEventRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'deviceEventId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/device-events/{device_event_id}/".replace("{device_event_id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deviceList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/devices/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.deviceLogList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/devicelog/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.deviceLogRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'deviceEventId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/devicelog/{device_event_id}/".replace("{device_event_id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deviceQueryCreate=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'device' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/device-queries/",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.deviceQueryDestroy=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'queryId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/device-queries/{query_id}/".replace("{query_id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deviceQueryList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/device-queries/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.deviceQueryRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'queryId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/device-queries/{query_id}/".replace("{query_id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deviceQueryUpdate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'queryId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/device-queries/{query_id}/".replace("{query_id}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.deviceRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'id' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/devices/{id}/".replace("{id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deviceUpdate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'id' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'device' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/devices/{id}/".replace("{id}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t}(o.ApiBase);r.DefaultApi=a},{"../common/apiBase":40,"../common/sdkError":46}],7:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.createBulkDeviceEnrollment=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'enrollmentIdentities' missing.")));var n={},o={},a=!1,s={};void 0!==e&&(s.enrollment_identities=e),a=!0;var u=["multipart/form-data"],c=["application/json"];return this.request({url:"/v3/device-enrollments-bulk-uploads",method:"POST",headers:n,query:o,formParams:s,useFormData:a,contentTypes:u,acceptTypes:c,requestOptions:r},t)},t.prototype.createDeviceEnrollment=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'enrollmentIdentity' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/device-enrollments",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.deleteDeviceEnrollment=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'id' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/device-enrollments/{id}".replace("{id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getBulkDeviceEnrollment=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'id' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/device-enrollments-bulk-uploads/{id}".replace("{id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getDeviceEnrollment=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'id' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/device-enrollments/{id}".replace("{id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getDeviceEnrollments=function(e,t,r,n,o,i){var a={},s={};void 0!==e&&(s.limit=e),void 0!==t&&(s.after=t),void 0!==r&&(s.order=r),void 0!==n&&(s.include=n);var u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/device-enrollments",method:"GET",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:i},o)},t}(o.ApiBase);r.PublicAPIApi=a},{"../common/apiBase":40,"../common/sdkError":46}],8:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.addApiKeyToGroups=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/api-keys/{apiKey}/groups".replace("{apiKey}",String(e)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.addCertificate=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/trusted-certificates",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.addSubjectsToGroup=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'groupID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}".replace("{groupID}",String(e)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.addUserToGroups=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'userId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/users/{user-id}/groups".replace("{user-id}",String(e)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.createGroup=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/policy-groups",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.createUser=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={};void 0!==t&&(a.action=t);var s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/users",method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:e},r)},t.prototype.deleteGroup=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'groupID' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}".replace("{groupID}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deleteUser=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'userId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/users/{user-id}".replace("{user-id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getAllUsers=function(e,t,r,n,o,i,a,s,u,c){var p={},l={};void 0!==e&&(l.limit=e),void 0!==t&&(l.after=t),void 0!==r&&(l.order=r),void 0!==n&&(l.include=n),void 0!==o&&(l.email__eq=o),void 0!==i&&(l.status__eq=i),void 0!==a&&(l.status__in=a),void 0!==s&&(l.status__nin=s);var d={},f=[],g=["application/json"];return this.request({url:"/v3/users",method:"GET",headers:p,query:l,formParams:d,useFormData:!1,contentTypes:f,acceptTypes:g,requestOptions:c},u)},t.prototype.getGroupsOfApikey=function(e,t,r,n,o,a,s){if(null===e||void 0===e)return void(a&&a(new i.SDKError("Required parameter 'apiKey' missing.")));var u={},c={};void 0!==t&&(c.limit=t),void 0!==r&&(c.after=r),void 0!==n&&(c.order=n),void 0!==o&&(c.include=o);var p={},l=[],d=["application/json"];return this.request({url:"/v3/api-keys/{apiKey}/groups".replace("{apiKey}",String(e)),method:"GET",headers:u,query:c,formParams:p,useFormData:!1,contentTypes:l,acceptTypes:d,requestOptions:s},a)},t.prototype.getGroupsOfUser=function(e,t,r,n,o,a,s){if(null===e||void 0===e)return void(a&&a(new i.SDKError("Required parameter 'userId' missing.")));var u={},c={};void 0!==t&&(c.limit=t),void 0!==r&&(c.after=r),void 0!==n&&(c.order=n),void 0!==o&&(c.include=o);var p={},l=[],d=["application/json"];return this.request({url:"/v3/users/{user-id}/groups".replace("{user-id}",String(e)),method:"GET",headers:u,query:c,formParams:p,useFormData:!1,contentTypes:l,acceptTypes:d,requestOptions:s},a)},t.prototype.getUser=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'userId' missing.")));var o={},a={};void 0!==t&&(a.properties=t);var s={},u=[],c=["application/json"];return this.request({url:"/v3/users/{user-id}".replace("{user-id}",String(e)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.getUsersOfGroup=function(e,t,r,n,o,a,s,u,c,p){if(null===e||void 0===e)return void(c&&c(new i.SDKError("Required parameter 'groupID' missing.")));var l={},d={};void 0!==t&&(d.limit=t),void 0!==r&&(d.after=r),void 0!==n&&(d.order=n),void 0!==o&&(d.include=o),void 0!==a&&(d.status__eq=a),void 0!==s&&(d.status__in=s),void 0!==u&&(d.status__nin=u);var f={},g=[],m=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}/users".replace("{groupID}",String(e)),method:"GET",headers:l,query:d,formParams:f,useFormData:!1,contentTypes:g,acceptTypes:m,requestOptions:p},c)},t.prototype.removeApiKeyFromGroups=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/api-keys/{apiKey}/groups".replace("{apiKey}",String(e)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.removeUserFromGroups=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'userId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/users/{user-id}/groups".replace("{user-id}",String(e)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.removeUsersFromGroup=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'groupID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}/users".replace("{groupID}",String(e)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.updateGroupName=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'groupID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}".replace("{groupID}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.updateMyAccount=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/accounts/me",method:"PUT",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,
requestOptions:r,body:e},t)},t.prototype.updateUser=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'userId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/users/{user-id}".replace("{user-id}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t}(o.ApiBase);r.AccountAdminApi=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.addAccountApiKeyToGroups=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'apiKey' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}/groups".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"POST",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.addAccountCertificate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/trusted-certificates".replace("{accountID}",String(e)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.addAccountUserToGroups=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'userId' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}/groups".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"POST",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.addSubjectsToAccountGroup=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'groupID' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"POST",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.checkAccountApiKey=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.createAccount=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={};void 0!==t&&(a.action=t);var s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/accounts",method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:e},r)},t.prototype.createAccountApiKey=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys".replace("{accountID}",String(e)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.createAccountGroup=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups".replace("{accountID}",String(e)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.createAccountUser=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={};void 0!==r&&(s.action=r);var u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users".replace("{accountID}",String(e)),method:"POST",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:t},n)},t.prototype.deleteAccountApiKey=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.deleteAccountCertificate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'certId' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/trusted-certificates/{cert-id}".replace("{accountID}",String(e)).replace("{cert-id}",String(t)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.deleteAccountGroup=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'groupID' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.deleteAccountUser=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'userId' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.getAccountApiKey=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.getAccountCertificate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'certId' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/trusted-certificates/{cert-id}".replace("{accountID}",String(e)).replace("{cert-id}",String(t)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.getAccountGroupSummary=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'groupID' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.getAccountInfo=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));var a={},s={};void 0!==t&&(s.include=t),void 0!==r&&(s.properties=r);var u={},c=[],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}".replace("{accountID}",String(e)),method:"GET",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o},n)},t.prototype.getAccountUser=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'userId' missing.")));var a={},s={};void 0!==r&&(s.properties=r);var u={},c=[],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"GET",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o},n)},t.prototype.getAllAccountApiKeys=function(e,t,r,n,o,a,s,u,c){if(null===e||void 0===e)return void(u&&u(new i.SDKError("Required parameter 'accountID' missing.")));var p={},l={};void 0!==t&&(l.limit=t),void 0!==r&&(l.after=r),void 0!==n&&(l.order=n),void 0!==o&&(l.include=o),void 0!==a&&(l.key__eq=a),void 0!==s&&(l.owner__eq=s);var d={},f=[],g=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys".replace("{accountID}",String(e)),method:"GET",headers:p,query:l,formParams:d,useFormData:!1,contentTypes:f,acceptTypes:g,requestOptions:c},u)},t.prototype.getAllAccountCertificates=function(e,t,r,n,o,a,s,u,c,p,l,d,f,g,m,h){if(null===e||void 0===e)return void(m&&m(new i.SDKError("Required parameter 'accountID' missing.")));var y={},v={};void 0!==t&&(v.limit=t),void 0!==r&&(v.after=r),void 0!==n&&(v.order=n),void 0!==o&&(v.include=o),void 0!==a&&(v.name__eq=a),void 0!==s&&(v.service__eq=s),void 0!==u&&(v.expire__eq=u),void 0!==c&&(v.device_execution_mode__eq=c),void 0!==p&&(v.device_execution_mode__neq=p),void 0!==l&&(v.owner__eq=l),void 0!==d&&(v.enrollment_mode__eq=d),void 0!==f&&(v.issuer__like=f),void 0!==g&&(v.subject__like=g);var _={},b=[],w=["application/json"];return this.request({url:"/v3/accounts/{accountID}/trusted-certificates".replace("{accountID}",String(e)),method:"GET",headers:y,query:v,formParams:_,useFormData:!1,contentTypes:b,acceptTypes:w,requestOptions:h},m)},t.prototype.getAllAccountGroups=function(e,t,r,n,o,a,s,u){if(null===e||void 0===e)return void(s&&s(new i.SDKError("Required parameter 'accountID' missing.")));var c={},p={};void 0!==t&&(p.limit=t),void 0!==r&&(p.after=r),void 0!==n&&(p.order=n),void 0!==o&&(p.include=o),void 0!==a&&(p.name__eq=a);var l={},d=[],f=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups".replace("{accountID}",String(e)),method:"GET",headers:c,query:p,formParams:l,useFormData:!1,contentTypes:d,acceptTypes:f,requestOptions:u},s)},t.prototype.getAllAccountUsers=function(e,t,r,n,o,a,s,u,c,p,l){if(null===e||void 0===e)return void(p&&p(new i.SDKError("Required parameter 'accountID' missing.")));var d={},f={};void 0!==t&&(f.limit=t),void 0!==r&&(f.after=r),void 0!==n&&(f.order=n),void 0!==o&&(f.include=o),void 0!==a&&(f.email__eq=a),void 0!==s&&(f.status__eq=s),void 0!==u&&(f.status__in=u),void 0!==c&&(f.status__nin=c);var g={},m=[],h=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users".replace("{accountID}",String(e)),method:"GET",headers:d,query:f,formParams:g,useFormData:!1,contentTypes:m,acceptTypes:h,requestOptions:l},p)},t.prototype.getAllAccounts=function(e,t,r,n,o,i,a,s,u,c,p,l,d,f,g){var m={},h={};void 0!==e&&(h.status__eq=e),void 0!==t&&(h.status__in=t),void 0!==r&&(h.status__nin=r),void 0!==n&&(h.tier__eq=n),void 0!==o&&(h.parent__eq=o),void 0!==i&&(h.end_market__eq=i),void 0!==a&&(h.country__like=a),void 0!==s&&(h.limit=s),void 0!==u&&(h.after=u),void 0!==c&&(h.order=c),void 0!==p&&(h.include=p),void 0!==l&&(h.format=l),void 0!==d&&(h.properties=d);var y={},v=[],_=["application/json"];return this.request({url:"/v3/accounts",method:"GET",headers:m,query:h,formParams:y,useFormData:!1,contentTypes:v,acceptTypes:_,requestOptions:g},f)},t.prototype.getApiKeysOfAccountGroup=function(e,t,r,n,o,a,s,u){if(null===e||void 0===e)return void(s&&s(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(s&&s(new i.SDKError("Required parameter 'groupID' missing.")));var c={},p={};void 0!==r&&(p.limit=r),void 0!==n&&(p.after=n),void 0!==o&&(p.order=o),void 0!==a&&(p.include=a);var l={},d=[],f=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}/api-keys".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"GET",headers:c,query:p,formParams:l,useFormData:!1,contentTypes:d,acceptTypes:f,requestOptions:u},s)},t.prototype.getGroupsOfAccountApikey=function(e,t,r,n,o,a,s,u){if(null===e||void 0===e)return void(s&&s(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(s&&s(new i.SDKError("Required parameter 'apiKey' missing.")));var c={},p={};void 0!==r&&(p.limit=r),void 0!==n&&(p.after=n),void 0!==o&&(p.order=o),void 0!==a&&(p.include=a);var l={},d=[],f=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}/groups".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"GET",headers:c,query:p,formParams:l,useFormData:!1,contentTypes:d,acceptTypes:f,requestOptions:u},s)},t.prototype.getGroupsOfAccountUser=function(e,t,r,n,o,a,s,u){if(null===e||void 0===e)return void(s&&s(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(s&&s(new i.SDKError("Required parameter 'userId' missing.")));var c={},p={};void 0!==r&&(p.limit=r),void 0!==n&&(p.after=n),void 0!==o&&(p.order=o),void 0!==a&&(p.include=a);var l={},d=[],f=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}/groups".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"GET",headers:c,query:p,formParams:l,useFormData:!1,contentTypes:d,acceptTypes:f,requestOptions:u},s)},t.prototype.getUsersOfAccountGroup=function(e,t,r,n,o,a,s,u,c,p,l){if(null===e||void 0===e)return void(p&&p(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(p&&p(new i.SDKError("Required parameter 'groupID' missing.")));var d={},f={};void 0!==r&&(f.limit=r),void 0!==n&&(f.after=n),void 0!==o&&(f.order=o),void 0!==a&&(f.include=a),void 0!==s&&(f.status__eq=s),void 0!==u&&(f.status__in=u),void 0!==c&&(f.status__nin=c);var g={},m=[],h=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}/users".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"GET",headers:d,query:f,formParams:g,useFormData:!1,contentTypes:m,acceptTypes:h,requestOptions:l},p)},t.prototype.removeAccountApiKeyFromGroups=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'apiKey' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}/groups".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"DELETE",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.removeAccountUserFromGroups=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'userId' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}/groups".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"DELETE",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.removeApiKeysFromAccountGroup=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'groupID' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}/api-keys".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"DELETE",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.removeUsersFromAccountGroup=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'groupID' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}/users".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"DELETE",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.resetAccountApiKeySecret=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}/reset-secret".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.updateAccount=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}".replace("{accountID}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.updateAccountApiKey=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'apiKey' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=[],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/api-keys/{apiKey}".replace("{accountID}",String(e)).replace("{apiKey}",String(t)),method:"PUT",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.updateAccountCertificate=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'certId' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/trusted-certificates/{cert-id}".replace("{accountID}",String(e)).replace("{cert-id}",String(t)),method:"PUT",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.updateAccountGroupName=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'groupID' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/policy-groups/{groupID}".replace("{accountID}",String(e)).replace("{groupID}",String(t)),method:"PUT",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.updateAccountUser=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'userId' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={},u={},c=["application/json"],p=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"PUT",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t.prototype.validateAccountUserEmail=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'accountID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'userId' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/accounts/{accountID}/users/{user-id}/validate-email".replace("{accountID}",String(e)).replace("{user-id}",String(t)),method:"POST",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t}(o.ApiBase);r.AggregatorAccountAdminApi=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.addMyApiKeyToGroups=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/api-keys/me/groups",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.createApiKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/api-keys",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.deleteApiKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'apiKey' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/api-keys/{apiKey}".replace("{apiKey}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deleteCertificate=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'certId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/trusted-certificates/{cert-id}".replace("{cert-id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getAllApiKeys=function(e,t,r,n,o,i,a,s){var u={},c={};void 0!==e&&(c.limit=e),void 0!==t&&(c.after=t),void 0!==r&&(c.order=r),void 0!==n&&(c.include=n),void 0!==o&&(c.key__eq=o),void 0!==i&&(c.owner__eq=i);var p={},l=[],d=["application/json"];return this.request({url:"/v3/api-keys",method:"GET",headers:u,query:c,formParams:p,useFormData:!1,contentTypes:l,acceptTypes:d,requestOptions:s},a)},t.prototype.getAllCertificates=function(e,t,r,n,o,i,a,s,u,c,p,l,d,f,g){var m={},h={};void 0!==e&&(h.limit=e),void 0!==t&&(h.after=t),void 0!==r&&(h.order=r),void 0!==n&&(h.include=n),void 0!==o&&(h.name__eq=o),void 0!==i&&(h.service__eq=i),void 0!==a&&(h.expire__eq=a),void 0!==s&&(h.device_execution_mode__eq=s),void 0!==u&&(h.device_execution_mode__neq=u),void 0!==c&&(h.owner__eq=c),void 0!==p&&(h.enrollment_mode__eq=p),void 0!==l&&(h.issuer__like=l),void 0!==d&&(h.subject__like=d);var y={},v=[],_=["application/json"];return this.request({url:"/v3/trusted-certificates",method:"GET",headers:m,query:h,formParams:y,useFormData:!1,contentTypes:v,acceptTypes:_,requestOptions:g},f)},t.prototype.getAllGroups=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.after=t),void 0!==r&&(u.order=r),void 0!==n&&(u.include=n),void 0!==o&&(u.name__eq=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/policy-groups",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.getApiKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'apiKey' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/api-keys/{apiKey}".replace("{apiKey}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getApiKeysOfGroup=function(e,t,r,n,o,a,s){if(null===e||void 0===e)return void(a&&a(new i.SDKError("Required parameter 'groupID' missing.")));var u={},c={};void 0!==t&&(c.limit=t),void 0!==r&&(c.after=r),void 0!==n&&(c.order=n),void 0!==o&&(c.include=o);var p={},l=[],d=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}/api-keys".replace("{groupID}",String(e)),method:"GET",headers:u,query:c,formParams:p,useFormData:!1,contentTypes:l,acceptTypes:d,requestOptions:s},a)},t.prototype.getCertificate=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'certId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/trusted-certificates/{cert-id}".replace("{cert-id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getGroupSummary=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'groupID' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}".replace("{groupID}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getGroupsOfMyApiKey=function(e,t,r,n,o,i){var a={},s={};void 0!==e&&(s.limit=e),void 0!==t&&(s.after=t),void 0!==r&&(s.order=r),void 0!==n&&(s.include=n);var u={},c=[],p=["application/json"];return this.request({url:"/v3/api-keys/me/groups",method:"GET",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:i},o)},t.prototype.getMyAccountInfo=function(e,t,r,n){var o={},i={};void 0!==e&&(i.include=e),void 0!==t&&(i.properties=t);var a={},s=[],u=["application/json"];return this.request({url:"/v3/accounts/me",method:"GET",headers:o,query:i,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:n},r)},t.prototype.getMyApiKey=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v3/api-keys/me",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.removeApiKeysFromGroup=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'groupID' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/policy-groups/{groupID}/api-keys".replace("{groupID}",String(e)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.removeMyApiKeyFromGroups=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=["application/json"],u=["application/json"];return this.request({url:"/v3/api-keys/me/groups",method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.updateApiKey=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'apiKey' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/api-keys/{apiKey}".replace("{apiKey}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.updateCertificate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'certId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'body' missing.")));var o={},a={},s={},u=["application/json"],c=["application/json"];return this.request({url:"/v3/trusted-certificates/{cert-id}".replace("{cert-id}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t.prototype.updateMyApiKey=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'body' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/api-keys/me",method:"PUT",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t}(o.ApiBase);r.DeveloperApi=u},{"../common/apiBase":40,"../common/sdkError":46}],9:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),
t.prototype.createAsyncRequest=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'asyncId' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'body' missing.")));var a={},s={};void 0!==t&&(s["async-id"]=t);var u={},c=["application/json"],p=["application/json"];return this.request({url:"/v2/device-requests/{device-id}".replace("{device-id}",String(e)),method:"POST",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o,body:r},n)},t}(o.ApiBase);r.DeviceRequestsApi=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getConnectedEndpoints=function(e,t,r){var n={},o={};void 0!==e&&(o.type=e);var i={},a=[],s=["application/json"];return this.request({url:"/v2/endpoints",method:"GET",headers:n,query:o,formParams:i,useFormData:!1,contentTypes:a,acceptTypes:s,requestOptions:r},t)},t.prototype.getEndpointResources=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'deviceId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v2/endpoints/{device-id}".replace("{device-id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t}(o.ApiBase);r.EndpointsApi=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.connectWebsocket=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'connection' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'upgrade' missing.")));if(null===r||void 0===r)return void(n&&n(new i.SDKError("Required parameter 'secWebSocketProtocol' missing.")));var a={};void 0!==e&&(a.Connection=e),void 0!==t&&(a.Upgrade=t),void 0!==r&&(a["Sec-WebSocket-Protocol"]=r);var s={},u={},c=[],p=[];return this.request({url:"/v2/notification/websocket-connect",method:"GET",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o},n)},t.prototype.deleteLongPollChannel=function(e,t){var r={},n={},o={},i=[],a=[];return this.request({url:"/v2/notification/pull",method:"DELETE",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.deleteWebsocket=function(e,t){var r={},n={},o={},i=[],a=[];return this.request({url:"/v2/notification/websocket",method:"DELETE",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.deregisterWebhook=function(e,t){var r={},n={},o={},i=[],a=[];return this.request({url:"/v2/notification/callback",method:"DELETE",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.getWebhook=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v2/notification/callback",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.getWebsocket=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v2/notification/websocket",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.longPollNotifications=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v2/notification/pull",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.registerWebhook=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'webhook' missing.")));var n={},o={},a={},s=["application/json"],u=[];return this.request({url:"/v2/notification/callback",method:"PUT",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.registerWebsocket=function(e,t){var r={},n={},o={},i=["application/json"],a=[];return this.request({url:"/v2/notification/websocket",method:"PUT",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t}(o.ApiBase);r.NotificationsApi=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.deleteResourcePath=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'resourcePath' missing.")));var a={},s={};void 0!==r&&(s.noResp=r);var u={},c=[],p=[];return this.request({url:"/v2/endpoints/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"DELETE",headers:a,query:s,formParams:u,useFormData:!1,contentTypes:c,acceptTypes:p,requestOptions:o},n)},t.prototype.executeOrCreateResource=function(e,t,r,n,o,a){if(null===e||void 0===e)return void(o&&o(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(o&&o(new i.SDKError("Required parameter 'resourcePath' missing.")));var s={},u={};void 0!==n&&(u.noResp=n);var c={},p=["text/plain","application/xml","application/octet-stream","application/exi","application/json","application/link-format","application/senml+json","application/nanoservice-tlv","application/vnd.oma.lwm2m+text","application/vnd.oma.lwm2m+opaq","application/vnd.oma.lwm2m+tlv","application/vnd.oma.lwm2m+json"],l=[];return this.request({url:"/v2/endpoints/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"POST",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a,body:r},o)},t.prototype.getResourceValue=function(e,t,r,n,o,a){if(null===e||void 0===e)return void(o&&o(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(o&&o(new i.SDKError("Required parameter 'resourcePath' missing.")));var s={},u={};void 0!==r&&(u.cacheOnly=r),void 0!==n&&(u.noResp=n);var c={},p=[],l=[];return this.request({url:"/v2/endpoints/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},o)},t.prototype.updateResourceValue=function(e,t,r,n,o,a){if(null===e||void 0===e)return void(o&&o(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(o&&o(new i.SDKError("Required parameter 'resourcePath' missing.")));if(null===r||void 0===r)return void(o&&o(new i.SDKError("Required parameter 'resourceValue' missing.")));var s={},u={};void 0!==n&&(u.noResp=n);var c={},p=["text/plain","application/xml","application/octet-stream","application/exi","application/json","application/link-format","application/senml+json","application/nanoservice-tlv","application/vnd.oma.lwm2m+text","application/vnd.oma.lwm2m+opaq","application/vnd.oma.lwm2m+tlv","application/vnd.oma.lwm2m+json"],l=[];return this.request({url:"/v2/endpoints/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"PUT",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a,body:r},o)},t}(o.ApiBase);r.ResourcesApi=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.addResourceSubscription=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'resourcePath' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v2/subscriptions/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.checkResourceSubscription=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'resourcePath' missing.")));var o={},a={},s={},u=[],c=[];return this.request({url:"/v2/subscriptions/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.deleteEndpointSubscriptions=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'deviceId' missing.")));var n={},o={},a={},s=[],u=[];return this.request({url:"/v2/subscriptions/{device-id}".replace("{device-id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.deletePreSubscriptions=function(e,t){var r={},n={},o={},i=[],a=[];return this.request({url:"/v2/subscriptions",method:"DELETE",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.deleteResourceSubscription=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'deviceId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'resourcePath' missing.")));var o={},a={},s={},u=[],c=[];return this.request({url:"/v2/subscriptions/{device-id}/{resourcePath}".replace("{device-id}",String(e)).replace("{resourcePath}",String(t)),method:"DELETE",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.getEndpointSubscriptions=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'deviceId' missing.")));var n={},o={},a={},s=[],u=["text/uri-list"];return this.request({url:"/v2/subscriptions/{device-id}".replace("{device-id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.getPreSubscriptions=function(e,t){var r={},n={},o={},i=[],a=["application/json"];return this.request({url:"/v2/subscriptions",method:"GET",headers:r,query:n,formParams:o,useFormData:!1,contentTypes:i,acceptTypes:a,requestOptions:t},e)},t.prototype.updatePreSubscriptions=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'presubsription' missing.")));var n={},o={},a={},s=["application/json"],u=["text/plain"];return this.request({url:"/v2/subscriptions",method:"PUT",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t}(o.ApiBase);r.SubscriptionsApi=p},{"../common/apiBase":40,"../common/sdkError":46}],10:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.v3MetricsGet=function(e,t,r,n,o,a,s,u,c,p){if(null===e||void 0===e)return void(c&&c(new i.SDKError("Required parameter 'include' missing.")));if(null===t||void 0===t)return void(c&&c(new i.SDKError("Required parameter 'interval' missing.")));var l={},d={};void 0!==e&&(d.include=e),void 0!==r&&(d.start=r),void 0!==n&&(d.end=n),void 0!==o&&(d.period=o),void 0!==t&&(d.interval=t),void 0!==a&&(d.limit=a),void 0!==s&&(d.after=s),void 0!==u&&(d.order=u);var f={},g=[],m=["application/json"];return this.request({url:"/v3/metrics",method:"GET",headers:l,query:d,formParams:f,useFormData:!1,contentTypes:g,acceptTypes:m,requestOptions:p},c)},t}(o.ApiBase);r.AccountApi=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.v3MetricsGet=function(e,t,r,n,o,a,s,u,c,p){if(null===e||void 0===e)return void(c&&c(new i.SDKError("Required parameter 'include' missing.")));if(null===t||void 0===t)return void(c&&c(new i.SDKError("Required parameter 'interval' missing.")));var l={},d={};void 0!==e&&(d.include=e),void 0!==r&&(d.start=r),void 0!==n&&(d.end=n),void 0!==o&&(d.period=o),void 0!==t&&(d.interval=t),void 0!==a&&(d.limit=a),void 0!==s&&(d.after=s),void 0!==u&&(d.order=u);var f={},g=[],m=["application/json"];return this.request({url:"/v3/metrics",method:"GET",headers:l,query:d,formParams:f,useFormData:!1,contentTypes:g,acceptTypes:m,requestOptions:p},c)},t}(o.ApiBase);r.StatisticsApi=s},{"../common/apiBase":40,"../common/sdkError":46}],11:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/apiBase"),i=e("../common/sdkError"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.firmwareImageCreate=function(e,t,r,n,o){if(null===e||void 0===e)return void(n&&n(new i.SDKError("Required parameter 'datafile' missing.")));if(null===t||void 0===t)return void(n&&n(new i.SDKError("Required parameter 'name' missing.")));var a={},s={},u=!1,c={};void 0!==e&&(c.datafile=e),u=!0,void 0!==r&&(c.description=r),void 0!==t&&(c.name=t);var p=["multipart/form-data"],l=["application/json"];return this.request({url:"/v3/firmware-images/",method:"POST",headers:a,query:s,formParams:c,useFormData:u,contentTypes:p,acceptTypes:l,requestOptions:o},n)},t.prototype.firmwareImageDestroy=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'imageId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/firmware-images/{image_id}/".replace("{image_id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.firmwareImageList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/firmware-images/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.firmwareImageRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'imageId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/firmware-images/{image_id}/".replace("{image_id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.firmwareManifestCreate=function(e,t,r,n,o,a){if(null===e||void 0===e)return void(o&&o(new i.SDKError("Required parameter 'datafile' missing.")));if(null===t||void 0===t)return void(o&&o(new i.SDKError("Required parameter 'name' missing.")));var s={},u={},c=!1,p={};void 0!==e&&(p.datafile=e),c=!0,void 0!==r&&(p.description=r),void 0!==n&&(p.key_table=n),c=!0,void 0!==t&&(p.name=t);var l=["multipart/form-data"],d=["application/json"];return this.request({url:"/v3/firmware-manifests/",method:"POST",headers:s,query:u,formParams:p,useFormData:c,contentTypes:l,acceptTypes:d,requestOptions:a},o)},t.prototype.firmwareManifestDestroy=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'manifestId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/firmware-manifests/{manifest_id}/".replace("{manifest_id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.firmwareManifestList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/firmware-manifests/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.firmwareManifestRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'manifestId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/firmware-manifests/{manifest_id}/".replace("{manifest_id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.updateCampaignCreate=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'campaign' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/update-campaigns/",method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r,body:e},t)},t.prototype.updateCampaignDestroy=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'campaignId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/update-campaigns/{campaign_id}/".replace("{campaign_id}",String(e)),method:"DELETE",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.updateCampaignList=function(e,t,r,n,o,i,a){var s={},u={};void 0!==e&&(u.limit=e),void 0!==t&&(u.order=t),void 0!==r&&(u.after=r),void 0!==n&&(u.filter=n),void 0!==o&&(u.include=o);var c={},p=[],l=["application/json"];return this.request({url:"/v3/update-campaigns/",method:"GET",headers:s,query:u,formParams:c,useFormData:!1,contentTypes:p,acceptTypes:l,requestOptions:a},i)},t.prototype.updateCampaignMetadataList=function(e,t,r,n,o,a,s){if(null===e||void 0===e)return void(a&&a(new i.SDKError("Required parameter 'campaignId' missing.")));var u={},c={};void 0!==t&&(c.limit=t),void 0!==r&&(c.order=r),void 0!==n&&(c.after=n),void 0!==o&&(c.include=o);var p={},l=[],d=["application/json"];return this.request({url:"/v3/update-campaigns/{campaign_id}/campaign-device-metadata/".replace("{campaign_id}",String(e)),method:"GET",headers:u,query:c,formParams:p,useFormData:!1,contentTypes:l,acceptTypes:d,requestOptions:s},a)},t.prototype.updateCampaignMetadataRetrieve=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'campaignId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'campaignDeviceMetadataId' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/update-campaigns/{campaign_id}/campaign-device-metadata/{campaign_device_metadata_id}/".replace("{campaign_id}",String(e)).replace("{campaign_device_metadata_id}",String(t)),method:"GET",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n},r)},t.prototype.updateCampaignMetadataStop=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'campaignId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/update-campaigns/{campaign_id}/stop".replace("{campaign_id}",String(e)),method:"POST",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.updateCampaignRetrieve=function(e,t,r){if(null===e||void 0===e)return void(t&&t(new i.SDKError("Required parameter 'campaignId' missing.")));var n={},o={},a={},s=[],u=["application/json"];return this.request({url:"/v3/update-campaigns/{campaign_id}/".replace("{campaign_id}",String(e)),method:"GET",headers:n,query:o,formParams:a,useFormData:!1,contentTypes:s,acceptTypes:u,requestOptions:r},t)},t.prototype.updateCampaignUpdate=function(e,t,r,n){if(null===e||void 0===e)return void(r&&r(new i.SDKError("Required parameter 'campaignId' missing.")));if(null===t||void 0===t)return void(r&&r(new i.SDKError("Required parameter 'campaign' missing.")));var o={},a={},s={},u=[],c=["application/json"];return this.request({url:"/v3/update-campaigns/{campaign_id}/".replace("{campaign_id}",String(e)),method:"PUT",headers:o,query:a,formParams:s,useFormData:!1,contentTypes:u,acceptTypes:c,requestOptions:n,body:t},r)},t}(o.ApiBase);r.DefaultApi=a},{"../common/apiBase":40,"../common/sdkError":46}],12:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../common/functions"),o=e("../common/listResponse"),i=e("./endpoints"),a=e("./models/accountAdapter"),s=e("./models/apiKeyAdapter"),u=e("./models/userAdapter"),c=e("./models/groupAdapter"),p=function(){function e(e){this._endpoints=new i.Endpoints(e)}return e.prototype.getAccount=function(e){var t=this;return n.apiWrapper(function(e){t._endpoints.developer.getMyAccountInfo("limits, policies","",e)},function(e,r){r(null,a.AccountAdapter.map(e,t))},e)},e.prototype.updateAccount=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.admin.updateMyAccount(a.AccountAdapter.reverseMap(e),t)},function(e,t){t(null,a.AccountAdapter.map(e,r))},t)},e.prototype.listApiKeys=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.after,s=o.order,u=o.include,c=o.filter;r._endpoints.developer.getAllApiKeys(i,a,s,n.encodeInclude(u),n.extractFilter(c,"apiKey"),n.extractFilter(c,"ownerId"),t)},function(e,t){var n;e&&e.data&&e.data.length&&(n=e.data.map(function(e){return s.ApiKeyAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getApiKey=function(e,t){var r=this;return"function"==typeof e&&(t=e,e=null),n.apiWrapper(function(t){e?r._endpoints.developer.getApiKey(e,t):r._endpoints.developer.getMyApiKey(t)},function(e,t){t(null,s.ApiKeyAdapter.map(e,r))},t)},e.prototype.addApiKey=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.developer.createApiKey(s.ApiKeyAdapter.addMap(e),t)},function(e,t){t(null,s.ApiKeyAdapter.map(e,r))},t)},e.prototype.updateApiKey=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.developer.updateApiKey(e.id,s.ApiKeyAdapter.updateMap(e),t)},function(e,t){t(null,s.ApiKeyAdapter.map(e,r))},t)},e.prototype.deleteApiKey=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.developer.deleteApiKey(e,t)},function(e,t){t(null,e)},t)},e.prototype.listUsers=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.after,s=o.order,u=o.include,c=o.filter;r._endpoints.admin.getAllUsers(i,a,s,n.encodeInclude(u),n.extractFilter(c,"email"),n.extractFilter(c,"status"),n.extractFilter(c,"status","$in"),n.extractFilter(c,"status","$nin"),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return u.UserAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getUser=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.admin.getUser(e,"",t)},function(e,t){t(null,u.UserAdapter.map(e,r))},t)},e.prototype.addUser=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.admin.createUser(u.UserAdapter.addMap(e),"create",t)},function(e,t){t(null,u.UserAdapter.map(e,r))},t)},e.prototype.updateUser=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.admin.updateUser(e.id,u.UserAdapter.updateMap(e),t)},function(e,t){t(null,u.UserAdapter.map(e,r))},t)},e.prototype.deleteUser=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.admin.deleteUser(e,t)},function(e,t){t(null,e)},t)},e.prototype.listGroups=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.after,s=o.order,u=o.include,c=o.filter;r._endpoints.developer.getAllGroups(i,a,s,n.encodeInclude(u),n.extractFilter(c,"name"),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return c.GroupAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getGroup=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.developer.getGroupSummary(e,t)},function(e,t){t(null,c.GroupAdapter.map(e,r))},t)},e.prototype.listGroupUsers=function(e,t,r){var i=this;return t=t||{},"function"==typeof t&&(r=t,t={}),n.apiWrapper(function(r){var o=t,a=o.limit,s=o.after,u=o.order,c=o.include,p=o.filter;i._endpoints.admin.getUsersOfGroup(e,a,s,u,n.encodeInclude(c),n.extractFilter(p,"status"),n.extractFilter(p,"status","$in"),n.extractFilter(p,"status","$nin"),r)},function(e,t){var r;e.data&&e.data.length&&(r=e.data.map(function(e){return u.UserAdapter.map(e,i)})),t(null,new o.ListResponse(e,r))},r)},e.prototype.listGroupApiKeys=function(e,t,r){var i=this;return t=t||{},"function"==typeof t&&(r=t,t={}),n.apiWrapper(function(r){var o=t,a=o.limit,s=o.after,u=o.order,c=o.include;i._endpoints.developer.getApiKeysOfGroup(e,a,s,u,n.encodeInclude(c),r)},function(e,t){var r;e.data&&e.data.length&&(r=e.data.map(function(e){return s.ApiKeyAdapter.map(e,i)})),t(null,new o.ListResponse(e,r))},r)},e.prototype.getLastApiMetadata=function(e){var t=this;return n.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},e}();r.AccountManagementApi=p},{"../common/functions":43,"../common/listResponse":45,"./endpoints":13,"./models/accountAdapter":15,"./models/apiKeyAdapter":17,"./models/groupAdapter":19,"./models/userAdapter":25}],13:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/endpointsBase"),i=e("../_api/iam"),a=function(e){function t(t){var r=e.call(this)||this;return r.developer=new i.DeveloperApi(t,r.responseHandler.bind(r)),r.admin=new i.AccountAdminApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(o.EndpointsBase);r.Endpoints=a},{"../_api/iam":8,"../common/endpointsBase":42}],14:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.update=function(e){var t=this;return n.asyncStyle(function(e){t._api.updateAccount(t,e)},e)},e}();r.Account=o},{"../../common/functions":43}],15:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./account"),o=e("./policyAdapter"),i=function(){function e(){}return e.map=function(e,t){var r=[];return e.policies&&(r=e.policies.map(function(e){return o.PolicyAdapter.map(e)})),new n.Account({displayName:e.display_name,aliases:e.aliases,company:e.company,contact:e.contact,email:e.email,phoneNumber:e.phone_number,addressLine1:e.address_line1,addressLine2:e.address_line2,city:e.city,state:e.state,postcode:e.postal_code,country:e.country,id:e.id,status:e.status,tier:e.tier,limits:e.limits,policies:r,createdAt:e.created_at,upgradedAt:e.upgraded_at,reason:e.reason,templateId:e.template_id,customerNumber:e.customer_number,expiryWarning:e.expiration_warning_threshold,salesContactEmail:e.sales_contact,multifactorAuthenticationStatus:e.mfa_status,notificationEmails:e.notification_emails,referenceNote:e.reference_note,updatedAt:e.updated_at,contractNumber:e.contract_number},t)},e.reverseMap=function(e){return{display_name:e.displayName,aliases:e.aliases,company:e.company,contact:e.contact,email:e.email,phone_number:e.phoneNumber,address_line1:e.addressLine1,address_line2:e.addressLine2,city:e.city,state:e.state,postal_code:e.postcode,country:e.country,mfa_status:e.multifactorAuthenticationStatus,notification_emails:e.notificationEmails,expiration_warning_threshold:e.expiryWarning}},e}();r.AccountAdapter=i},{"./account":14,"./policyAdapter":23}],16:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.listGroups=function(e){var t=this;return n.apiWrapper(function(e){t._api.listGroups(null,e)},function(e,r){var n=[];e.data&&e.data.length&&(n=e.data.filter(function(e){return t.groups.indexOf(e.id)>-1})),r(null,n)},e)},e.prototype.getOwner=function(e){var t=this;return n.asyncStyle(function(e){if(!t.ownerId)return e(null,null);t._api.getUser(t.ownerId,e)},e)},e.prototype.update=function(e){var t=this;return n.asyncStyle(function(e){t._api.updateApiKey(t,e)},e)},e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteApiKey(t.id,e)},e)},e}();r.ApiKey=o},{"../../common/functions":43}],17:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./apiKey"),o=function(){function e(){}return e.map=function(e,t){return new n.ApiKey({name:e.name,ownerId:e.owner,groups:e.groups,id:e.id,key:e.key,status:e.status,createdAt:e.created_at,creationTime:e.creation_time,lastLoginTime:e.last_login_time},t)},e.addMap=function(e){return{name:e.name,status:e.status,owner:e.ownerId,groups:e.groups}},e.updateMap=function(e){return{name:e.name,status:e.status,owner:e.ownerId}},e}();r.ApiKeyAdapter=o},{"./apiKey":16}],18:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.listUsers=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.asyncStyle(function(t){r._api.listGroupUsers(r.id,e,t)},t)},e.prototype.listApiKeys=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.asyncStyle(function(t){r._api.listGroupApiKeys(r.id,e,t)},t)},e}();r.Group=o},{"../../common/functions":43}],19:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./group"),o=function(){function e(){}return e.map=function(e,t){return new n.Group({id:e.id,accountId:e.account_id,name:e.name,userCount:e.user_count,apiKeyCount:e.apikey_count,createdAt:e.created_at},t)},e}();r.GroupAdapter=o},{"./group":18}],20:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}return e}();r.LoginHistory=n},{}],21:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./loginHistory"),o=function(){function e(){}return e.map=function(e){return new n.LoginHistory({date:e.date,userAgent:e.user_agent,ipAddress:e.ip_address,success:e.success})},e}();r.LoginHistoryAdapter=o},{"./loginHistory":20}],22:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}return e}();r.Policy=n},{}],23:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./policy"),o=function(){function e(){}return e.map=function(e){return new n.Policy({action:e.action,allow:e.allow,feature:e.feature,resource:e.resource})},e}();r.PolicyAdapter=o},{"./policy":22}],24:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.update=function(e){var t=this;return n.asyncStyle(function(e){t._api.updateUser(t,e)},e)},e.prototype.listGroups=function(e){var t=this;return n.apiWrapper(function(e){t._api.listGroups(null,e)},function(e,r){var n=[];e.data&&e.data.length&&(n=e.data.filter(function(e){return t.groups.indexOf(e.id)>-1})),r(null,n)},e)},e.prototype.listApiKeys=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.asyncStyle(function(t){e.filter={ownerId:{$eq:r.id}},r._api.listApiKeys(e,t)},t)},e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteUser(t.id,e)},e)},e}();r.User=o},{"../../common/functions":43}],25:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./user"),o=e("./loginHistoryAdapter"),i=function(){function e(){}return e.map=function(e,t){var r=[];return e.login_history&&(r=e.login_history.map(function(e){return o.LoginHistoryAdapter.map(e)})),new n.User({fullName:e.full_name,username:e.username,password:e.password,email:e.email,phoneNumber:e.phone_number,address:e.address,termsAccepted:e.is_gtc_accepted,marketingAccepted:e.is_marketing_accepted,groups:e.groups,id:e.id,status:e.status,accountId:e.account_id,emailVerified:e.email_verified,createdAt:e.created_at,creationTime:e.creation_time,passwordChangedTime:e.password_changed_time,twoFactorAuthentication:e.is_totp_enabled,lastLoginTime:e.last_login_time,loginHistory:r},t)},e.addMap=function(e){return{full_name:e.fullName,username:e.username,password:e.password,email:e.email,phone_number:e.phoneNumber,address:e.address,is_gtc_accepted:e.termsAccepted,is_marketing_accepted:e.marketingAccepted,groups:e.groups}},e.updateMap=function(e){return{full_name:e.fullName,username:e.username,email:e.email,phone_number:e.phoneNumber,address:e.address,is_gtc_accepted:e.termsAccepted,is_marketing_accepted:e.marketingAccepted,groups:e.groups}},e}();r.UserAdapter=i},{"./loginHistoryAdapter":21,"./user":24}],26:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./endpoints"),o=e("../common/functions"),i=e("./models/quotaHistoryAdapter"),a=e("../common/listResponse"),s=e("./models/servicePackageAdapter"),u=e("../common/sdkError"),c=e("fs"),p=e("superagent"),l=function(){function e(e){this._endpoints=new n.Endpoints(e)}return e.prototype.getReportOverview=function(e,t,r){var n=this;return"function"==typeof t&&(r=t),o.apiWrapper(function(t){n._endpoints.billing.getBillingReport(o.dateToBillingMonth(e),t)},function(e,r){var n=JSON.stringify(e);o.isThisNode()?t&&c.writeFile(t,n,"utf8",function(e){return e?r(new u.SDKError(e.message),null):r(null,n)}):r(null,n)},r)},e.prototype.getReportActiveDevices=function(e,t,r){var n=this;return"function"==typeof t&&(r=t),o.apiWrapper(function(t){n._endpoints.billing.getBillingReportActiveDevices(o.dateToBillingMonth(e),t)},function(e,r){n.streamToFile(t,e.url,r)},r)},e.prototype.getReportFirmwareUpdates=function(e,t,r){var n=this;return"function"==typeof t&&(r=t),o.apiWrapper(function(t){n._endpoints.billing.getBillingReportFirmwareUpdates(o.dateToBillingMonth(e),t)},function(e,r){n.streamToFile(t,e.url,r)},r)},e.prototype.getServicePackages=function(e){var t=this;return o.apiWrapper(function(e){t._endpoints.billing.getServicePackages(e)},function(e,t){var r=new Array;e&&(e.pending&&r.push(s.mapPending(e.pending)),e.active&&r.push(s.mapActive(e.active)),e.previous&&e.previous.forEach(function(e){return r.push(s.mapPrevious(e))})),t(null,r)},e)},e.prototype.streamToFile=function(e,t,r){if(o.isThisNode()&&e){var n=c.createWriteStream(e,{flags:"a+"}),i=p.get(t);i.pipe(n).on("finish",function(e){r(null,t)}),i.on("error",function(e){r(new u.SDKError(e.message),null)})}else r(null,t)},e.prototype.getQuotaHistory=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e),o.apiWrapper(function(t){var n=e.limit,o=e.after;r._endpoints.billing.getServicePackageQuotaHistory(n,o,t)},function(e,t){var r;e&&e.data&&e.data.length&&(r=e.data.map(function(e){return i.mapQuotaHistory(e)})),t(null,new a.ListResponse(e,r))},t)},e.prototype.getQuotaRemaining=function(e){var t=this;return o.apiWrapper(function(e){t._endpoints.billing.getServicePackageQuota(e)},function(e,t){if(e)return t(null,e.quota)},e)},e}();r.BillingApi=l},{"../common/functions":43,"../common/listResponse":45,"../common/sdkError":46,"./endpoints":27,"./models/quotaHistoryAdapter":29,"./models/servicePackageAdapter":31,fs:89,superagent:107}],27:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/endpointsBase"),i=e("../_api/billing"),a=function(e){function t(t){var r=e.call(this)||this;return r.billing=new i.DefaultApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(o.EndpointsBase);r.Endpoints=a},{"../_api/billing":3,"../common/endpointsBase":42}],28:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){var t=this;Object.keys(e).forEach(function(r){t[r]=e[r]})}return e}();r.QuotaHistory=n},{}],29:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./quotaHistory"),o=e("./servicePackageAdapter");r.mapQuotaHistory=function(e){return new n.QuotaHistory({id:e.id,createdAt:e.added,delta:e.amount,accountId:null!==e.reservation?e.reservation.account_id:null,campaignName:null!==e.reservation?e.reservation.campaign_name:null,servicePackage:o.mapQuotaHistoryServicePackage(e.service_package),reason:e.reason})}},{"./quotaHistory":28,"./servicePackageAdapter":31}],30:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){var t=this;Object.keys(e).forEach(function(r){t[r]=e[r]})}return e}();r.ServicePackage=n},{}],31:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./servicePackage");r.mapActive=function(e){var t=o(e);return t.nextId=e.id,t.gracePeriod=e.grace_period,t.state="active",new n.ServicePackage(t)},r.mapPending=function(e){var t=o(e);return t.state="pending",new n.ServicePackage(t)},r.mapPrevious=function(e){var t=o(e);return t.endsAt=e.end_time,t.nextId=e.next_id,t.reason=e.reason,t.state="previous",new n.ServicePackage(t)},r.mapQuotaHistoryServicePackage=function(e){return new n.ServicePackage({expiresAt:e.expires,firmwareUpdateCount:e.firmware_update_count,id:e.id,previousId:e.previous_id,startsAt:e.start_time})};var o=function(e){return new n.ServicePackage({createdAt:e.created,expiresAt:e.expires,endsAt:null,gracePeriod:null,nextId:null,reason:null,firmwareUpdateCount:e.firmware_update_count,id:e.id,modifiedAt:e.modified,previousId:e.previous_id,startsAt:e.start_time})}},{"./servicePackage":30}],32:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../common/functions"),o=e("./endpoints"),i=e("./models/preSharedKeyAdapter"),a=e("../common/listResponse"),s=function(){function e(e){this._endpoints=new o.Endpoints(e)}return e.prototype.listPsks=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var n=e,o=n.limit,i=n.after;r._endpoints.bootstrap.listPreSharedKeys(o,i,t)},function(e,t){var n;e&&e.data&&e.data.length&&(n=e.data.map(function(e){return i.mapToSDK(e,r)})),t(null,new a.ListResponse(e,n))},t)},e.prototype.addPsk=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.bootstrap.uploadPreSharedKey(i.mapToSpec(e),t)},function(t,n){n(null,i.mapFrom(e,r))},t)},e.prototype.getPsk=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.bootstrap.getPreSharedKey(e,t)},function(e,t){t(null,i.mapToSDK(e,r))},t)},e.prototype.deletePsk=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.bootstrap.deletePreSharedKey(e,t)},function(e,t){t(null,null)},t)},e.prototype.getLastApiMetadata=function(e){var t=this;return n.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},e}();r.BootstrapApi=s},{"../common/functions":43,"../common/listResponse":45,"./endpoints":33,"./models/preSharedKeyAdapter":35}],33:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/endpointsBase"),i=e("../_api/connector_bootstrap"),a=function(e){function t(t){var r=e.call(this)||this;return r.bootstrap=new i.PreSharedKeysApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(o.EndpointsBase);r.Endpoints=a},{"../_api/connector_bootstrap":4,"../common/endpointsBase":42}],34:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){var r=this;this._api=t,Object.keys(e).forEach(function(t){r[t]=e[t]})}return e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deletePsk(t.endpointName,e)},e)},e}();r.PreSharedKey=o},{"../../common/functions":43}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./preSharedKey");r.mapToSDK=function(e,t){return new n.PreSharedKey({endpointName:e.endpoint_name,createdAt:e.created_at,secretHex:null},t)},r.mapFrom=function(e,t){return new n.PreSharedKey({endpointName:e.endpointName,secretHex:e.secretHex},t)},r.mapToSpec=function(e){return{endpoint_name:e.endpointName,secret_hex:e.secretHex}}},{"./preSharedKey":34}],36:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../common/functions"),o=e("../common/listResponse"),i=e("./endpoints"),a=e("./models/certificateAdapter"),s=function(){function e(e){this._endpoints=new i.Endpoints(e)}return e.prototype.extendCertificate=function(e,t){var r=this;if(1===e.device_execution_mode)return void this._endpoints.connector.getDeveloperCertificate(e.id,"",function(n,o){if(n)return t(n,null);var i=a.CertificateAdapter.mapDeveloperCertificate(e,r,o);t(null,i)});var n=null;this._endpoints.serverCredentials.getAllServerCredentials("",function(o,i){if(o)return t(o,null);"bootstrap"===e.service&&(n=i.bootstrap),"lwm2m"===e.service&&(n=i.lwm2m);var s=a.CertificateAdapter.mapServerCertificate(e,r,n);t(null,s)})},e.prototype.listCertificates=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.after,s=o.order,u=o.include,c=o.filter,p=n.extractFilter(c,"type"),l="developer"===p?"bootstrap":p,d="developer"===p?1:null,f=n.extractFilter(c,"typeNeq"),g="developer"===f?0:1;r._endpoints.accountDeveloper.getAllCertificates(i,a,s,n.encodeInclude(u),n.extractFilter(c,"name"),l,n.extractFilter(c,"expires"),d,g,n.extractFilter(c,"ownerId"),n.extractFilter(c,"enrollmentMode"),n.extractFilter(c,"issuer"),n.extractFilter(c,"subject"),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return a.CertificateAdapter.mapCertificate(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getCertificate=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.accountDeveloper.getCertificate(e,t)},function(e,t){r.extendCertificate(e,t)},t)},e.prototype.addDeveloperCertificate=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.connector.createDeveloperCertificate("",a.CertificateAdapter.reverseDeveloperMap(e),t)},function(e,t){r._endpoints.accountDeveloper.getCertificate(e.id,function(n,o){if(n)return t(n,null);var i=a.CertificateAdapter.mapDeveloperCertificate(o,r,e);t(null,i)})},t)},e.prototype.addCertificate=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.admin.addCertificate(a.CertificateAdapter.reverseMap(e),t)},function(e,t){r.extendCertificate(e,t)},t)},e.prototype.updateCertificate=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.accountDeveloper.updateCertificate(e.id,a.CertificateAdapter.reverseUpdateMap(e),t)},function(e,t){r.extendCertificate(e,t)},t)},e.prototype.deleteCertificate=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.accountDeveloper.deleteCertificate(e,t)},function(e,t){t(null,e)},t)},e.prototype.getLastApiMetadata=function(e){var t=this;return n.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},e}();r.CertificatesApi=s},{"../common/functions":43,"../common/listResponse":45,"./endpoints":37,"./models/certificateAdapter":39}],37:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/endpointsBase"),i=e("../_api/iam"),a=e("../_api/connector_ca"),s=function(e){function t(t){var r=e.call(this)||this;return r.accountDeveloper=new i.DeveloperApi(t,r.responseHandler.bind(r)),r.connector=new a.DeveloperCertificateApi(t,r.responseHandler.bind(r)),r.admin=new i.AccountAdminApi(t,r.responseHandler.bind(r)),r.serverCredentials=new a.ServerCredentialsApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(o.EndpointsBase);r.Endpoints=s},{"../_api/connector_ca":5,"../_api/iam":8,"../common/endpointsBase":42}],38:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t,this.enrollmentMode=!1;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.update=function(e,t){var r=this;return n.asyncStyle(function(t){r._api.updateCertificate({id:r.id,signature:e,type:r.type,status:r.status,certificateData:r.certificateData,name:r.name,description:r.description},t)},t)},e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteCertificate(t.id,e)},e)},e}();r.Certificate=o},{"../../common/functions":43}],39:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./certificate"),o=function(){function e(){}return e.map=function(e){return{id:e.id,name:e.name,description:e.description,type:1===e.device_execution_mode?"developer":e.service,status:e.status,accountId:e.account_id,certificateData:e.certificate,createdAt:e.created_at,issuer:e.issuer,subject:e.subject,validity:e.validity,ownerId:e.owner_id,enrollmentMode:e.enrollment_mode||!1,serverUri:null,serverCertificate:null,headerFile:null,developerCertificate:null,developerPrivateKey:null}},e.mapCertificate=function(t,r){return new n.Certificate(e.map(t),r)},e.mapServerCertificate=function(t,r,o){var i=e.map(t);return i.serverUri=o.url,i.serverCertificate=o.certificate,new n.Certificate(i,r)},e.mapDeveloperCertificate=function(t,r,o){var i=e.map(t);return i.headerFile=o.security_file_content,i.developerCertificate=o.developer_certificate,i.developerPrivateKey=o.developer_private_key,new n.Certificate(i,r)},e.reverseMap=function(e){return{certificate:e.certificateData,name:e.name,service:"developer"===e.type?"bootstrap":e.type,status:e.status,signature:e.signature,enrollment_mode:e.enrollmentMode,description:e.description}},e.reverseUpdateMap=function(e){return{certificate:e.certificateData,name:e.name,service:"developer"===e.type?"bootstrap":e.type,status:e.status,signature:e.signature,enrollment_mode:e.enrollmentMode,description:e.description}},e.reverseDeveloperMap=function(e){return{name:e.name,description:e.description}},e}();r.CertificateAdapter=o},{"./certificate":38}],40:[function(e,t,r){(function(t,n){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var o=e("superagent"),i=e("dotenv"),a=e("./sdkError"),s=e("../../version"),u=e("./functions"),c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,p=/^application\/json(;.*)?$/i,l=/^text\/plain(;.*)?$/i,d=s.Version.isPublished?s.Version.version:s.Version.version+"+dev",f=s.Version.packageName+"-javascript / "+d,g=function(){function r(e,r){if(void 0===r&&(r=null),this.responseHandler=r,this.ENV_API_KEY="MBED_CLOUD_SDK_API_KEY",this.ENV_HOST="MBED_CLOUD_SDK_HOST",e=e||{},i&&"function"==typeof i.config&&i.config(),this.apiKey=e.apiKey||t&&t.env[this.ENV_API_KEY],this.host=e.host||t&&t.env[this.ENV_HOST]||"https://api.us-east-1.mbedcloud.com",!this.apiKey)throw new a.SDKError("no api key provided");"bearer"!==this.apiKey.substr(0,6).toLowerCase()&&(this.apiKey="Bearer "+this.apiKey)}return r.normalizeParams=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]){var o=e[n];this.isFileParam(o)||Array.isArray(o)?t[n]=o:t[n]=r.paramToString(o)}return t},r.isFileParam=function(t){return!!(u.isThisNode()&&e("fs")&&t instanceof e("fs").ReadStream)||("function"==typeof n&&t instanceof n||("function"==typeof Blob&&t instanceof Blob||"function"==typeof File&&t instanceof File))},r.paramToString=function(e){return void 0===e||null===e?"":e instanceof Date?e.toJSON():e.toString()},r.chooseType=function(e,t){if(void 0===t&&(t=null),!e.length)return t;var r=e[0]||t;return e.some(function(e){if(l.test(e))return r=e,!0}),r},r.debugLog=function(e,r){t&&t.env&&"superagent"===t.env.DEBUG&&(t.stdout.write("  [1m[35msuperagent[0m "+e.toUpperCase()+" "),console.log(r))},r.prototype.currentConfig=function(){return{apiKey:this.apiKey,host:this.host}},r.prototype.request=function(e,t){var n=this,i=e.requestOptions||{};i.timeout=i.timeout||6e4,i.method=i.method||e.method,i.query=i.query||r.normalizeParams(e.query),i.headers=i.headers||r.normalizeParams(e.headers),i.acceptHeader=i.acceptHeader||r.chooseType(e.acceptTypes),i.url=i.url||e.url.replace(/([:])?\/+/g,function(e,t){return t?e:"/"});var a=o(i.method,this.host+i.url);a.query(i.query),i.headers.Authorization=this.apiKey,u.isThisNode()&&(i.headers["User-Agent"]=f),a.set(i.headers),a.timeout(i.timeout),i.acceptHeader&&a.accept(i.acceptHeader);var s=null;if(Object.keys(e.formParams).length>0)if(e.useFormData){var c=r.normalizeParams(e.formParams);for(var l in c)c.hasOwnProperty(l)&&(r.isFileParam(c[l])?a.attach(l,c[l]):a.field(l,c[l]))}else i.contentType=i.contentType||"application/x-www-form-urlencoded",a.type(i.contentType),a.send(r.normalizeParams(e.formParams));else e.body&&(s=e.body,i.contentType=i.contentType||r.chooseType(e.contentTypes,"application/json"),a.type(i.contentType),s&&s.constructor==={}.constructor&&p.test(i.contentType)&&(s=Object.keys(s).reduce(function(e,t){return null!==s[t]&&void 0!==s[t]&&(e[t]=s[t]),e},{})),a.send(s));return s&&r.debugLog("body",s),a.end(function(e,r){n.complete(e,r,i.acceptHeader,t)}),a},r.prototype.complete=function(e,t,r,n){var o=null;if(e){var i=e.message,s=e,u="";t&&(t.error&&(i=t.error.message),t.body&&t.body.message&&(i=t.body.message,i.error&&(i=i.error)),s=t.error||e,u=t.body||t.text),o=new a.SDKError(i,s,u,e.status)}if(this.responseHandler&&this.responseHandler(o,t),n){var l=null;t&&!o&&(l=t.body||t.text),l&&l.constructor==={}.constructor&&p.test(r)&&(l=JSON.parse(JSON.stringify(l),function(e,t){return c.test(t)?new Date(t):t})),n(o,l)}},r}();r.ApiBase=g}).call(this,e("_process"),e("buffer").Buffer)},{"../../version":88,"./functions":43,"./sdkError":46,_process:93,buffer:89,dotenv:89,fs:89,superagent:107}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,o){this.statusCode=e,this.errorMessage=t,r&&(this.headers=r,this.date=r.date?new Date(r.date):new Date,this.requestId=r["x-request-id"]),n&&(this.object=n.object,this.etag=n.etag),o&&(this.method=o.method,this.url=o.url)}return e}();r.ApiMetadata=n},{}],42:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./apiMetadata"),o=function(){function e(){}return e.prototype.responseHandler=function(e,t){var r=null,o=null,i=null,a=null,s=null;e&&(r=e.code,o=e.message,s=e.innerError),t&&(r=t.statusCode,i=t.headers,a=t.body||t.text,s=t.request||t.req),this.lastMeta=new n.ApiMetadata(r,o,i,a,s)},e.prototype.getLastMeta=function(){return this.lastMeta},e}();r.EndpointsBase=o},{"./apiMetadata":41}],43:[function(e,t,r){(function(t){"use strict";function n(e,t){if(!t)return new Promise(function(t,r){try{e(function(e,n){e?r(e):t(n)})}catch(e){r(new _.SDKError(e.message,e))}});try{e(t)}catch(e){t(new _.SDKError(e.message,e))}}function o(e,t,r){if(!r){return v(t,new Promise(function(t,r){try{e(function(e,n){e?r(e):t(n)})}catch(e){r(new _.SDKError(e.message,e))}}))}try{e(r)}catch(e){r(new _.SDKError(e.message,e))}}function i(e,t,r,i,a){void 0===i&&(i=!1);var s=function(r){try{e(function(e,n){if(e)return i||404!==e.code?r(e):r(null,null);if(!t)return r(null,n);try{t(n,r)}catch(e){r(new _.SDKError(e.message,e))}})}catch(e){r(new _.SDKError(e.message,e))}};return a?o(s,a,r):n(s,r)}function a(e){if(e)return"function"==typeof btoa?btoa(e):t.from(e).toString("base64")}function s(e,r){var n="";if(n="function"==typeof atob?atob(e):new t(e,"base64").toString("binary"),r&&r.indexOf("tlv")>-1)try{return b.decodeTlv(n)}catch(e){}return isNaN(n)?n:Number(n)}function u(e){return e&&e.length?e.map(p).join(","):null}function c(e){return e.replace(/(\_\w)/g,function(e){return e[1].toUpperCase()})}function p(e){return e.replace(/([A-Z]+?)/g,function(e){return"_"+e.toLowerCase()})}function l(e,t,r,n){if(void 0===r&&(r="$eq"),void 0===n&&(n=null),e&&e[t]){var o=e[t];if(o.constructor!=={}.constructor)return o;switch(r){case"$ne":if(o.$ne)return o.$ne;break;case"$gte":if(o.$gte)return o.$gte;break;case"$lte":if(o.$lte)return o.$lte;break;case"$in":if(o.$in)return o.$in;break;case"$nin":if(o.$nin)return o.$nin;break;default:if(o.$eq)return o.$eq}}return n}function d(e,t,r){function n(e,r,n,o){if(void 0===o&&(o=""),n instanceof Date&&(n=n.toISOString()),"boolean"==typeof n&&(n=n.toString()),o)o=p(o),o+="__";else{var i=t.from.indexOf(e);e=i>-1?t.to[i]:p(e)}var a=r.replace("$","");return"ne"===a&&(a="neq"),"eq"===a&&(a=""),a&&(a="__"+a),""+o+e+a+"="+n}return void 0===t&&(t={from:[],to:[]}),void 0===r&&(r=[]),e?Object.keys(e).map(function(t){return e[t].constructor!=={}.constructor?n(t,"",e[t]):Object.keys(e[t]).map(function(o){return r.indexOf(t)>-1?e[t][o].constructor!=={}.constructor?n(o,"",e[t][o],t):Object.keys(e[t][o]).map(function(r){return n(o,r,e[t][o][r],t)}).join("&"):n(t,o,e[t][o])}).join("&")}).join("&"):""}function f(e,t,r){function n(e){var r=t.to.indexOf(e);return r>-1?t.from[r]:c(e)}function o(e,t,r){t||(t="eq"),"neq"===t&&(t="ne"),t="$"+t,e[t]=r}void 0===t&&(t={from:[],to:[]}),void 0===r&&(r=[]);var i={};return e=decodeURIComponent(e),e.split("&").forEach(function(e){var t=e.match(/^(.+)=(.+)$/);if(t){var a=t[2],s=t[1].split("__"),u=n(s[0]);if(i[u]||(i[u]={}),r.indexOf(u)>-1){var c=s[1];return i[u][c]||(i[u][c]={}),void o(i[u][c],s[2],a)}o(i[u],s[1],a)}}),i}function g(e){return e instanceof Array?e:[e]}function m(e,t){return null!==t&&void 0!==t&&""!==t&&(null===e||void 0===e||""===e||"*"===e||(e.endsWith("*")?t.startsWith(e.slice(0,-1)):e===t))}function h(e){return e=new Date(e),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)}function y(){return"undefined"==typeof window&&"function"==typeof e}function v(e,t){var r=new Promise(function(t,r){var n=setTimeout(function(){clearTimeout(n),r("Timeout getting async value. Timeout "+e+"ms")},e)});return Promise.race([t,r])}/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var _=e("./sdkError"),b=e("./tlvDecoder");r.asyncStyle=n,r.asyncStyleWithTimeout=o,r.apiWrapper=i,r.encodeBase64=a,r.decodeBase64=s,r.encodeInclude=u,r.snakeToCamel=c,r.camelToSnake=p,r.extractFilter=l,r.encodeFilter=d,r.decodeFilter=f,r.ensureArray=g,r.matchWithWildcard=m,r.dateToBillingMonth=h,r.isThisNode=y,r.promiseTimeout=v}).call(this,e("buffer").Buffer)},{"./sdkError":46,"./tlvDecoder":47,buffer:89}],44:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0}),r.generateId=function(){return""+Date.now()+Math.floor(1e4*Math.random())}},{}],45:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.after=e.after,this.hasMore=e.has_more||e.hasMore,this.pageSize="limit"in e?e.limit:"pageSize"in e?e.pageSize:void 0,this.order=e.order,this.totalCount=e.total_count||e.totalCount||0,this.continuationMarker=e.continuation_marker||e.continuationMarker;this.limit=this.pageSize,r&&t&&t.length?this.data=e.data.map(function(e){return r(e)})||[]:this.data=t||[]}return e}();r.ListResponse=n},{}],46:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(e){function t(t,r,n,o){var i=e.call(this,t)||this;return i.innerError=r,i.details=n,i.code=o,i}return n(t,e),t}(Error);r.SDKError=o},{}],47:[function(e,t,r){"use strict";function n(e){return(e&u)===u?2:1}function o(e){return(e&c)===d.ONE_BYTE?1:(e&c)===d.TWO_BYTE?2:(e&c)===d.TRE_BYTE?3:e&p}function i(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r=""),!e||e.length<1)return t;var a=e[0],u=a&s,p=n(a),f=o(a),g=function(e){return String.fromCharCode(e)},m=function(e,t,r,n){return e+(t<<8*(n.length-r-1))},h=1,y=e.slice(h,h+p).reduce(m,0);h+=p;var v=f;if((a&c)!==d.OTR_BYTE&&(v=e.slice(h,h+f).reduce(m,0),h+=f),u===l.MULT_RESOURCE)i(e.slice(h,h+v),t,r+"/"+y);else{var _=e.slice(h,h+v),b=_.some(function(e){return 0===e}),w=b?_.reduce(m,0):_.map(g).join("");t[r+"/"+y]=w}return h+=v,i(e.slice(h),t,r),t}function a(e){return i(e.split("").map(function(e){return e.charCodeAt(0)}))}/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var s=parseInt("11000000",2),u=parseInt("00100000",2),c=parseInt("00011000",2),p=parseInt("00000111",2),l={OBJECT_INSTAN:parseInt("00000000",2),RESOURCE_INST:parseInt("01000000",2),MULT_RESOURCE:parseInt("10000000",2),RESOURCE_VALU:parseInt("11000000",2)},d={ONE_BYTE:parseInt("00001000",2),TWO_BYTE:parseInt("00010000",2),TRE_BYTE:parseInt("00011000",2),OTR_BYTE:parseInt("00000000",2)};r.decodeTlv=a},{}],48:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,i=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){u.label=r[1];break}if(6===r[0]&&u.label<a[1]){u.label=a[1],a=r;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(r);break}a[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var a=e("events"),s=e("../common/listResponse"),u=e("../common/functions"),c=e("../common/sdkError"),p=e("./endpoints"),l=e("./models/webhookAdapter"),d=e("./models/presubscriptionAdapter"),f=e("./models/resourceAdapter"),g=e("./models/connectedDevice"),m=e("./models/deviceEventAdapter"),h=e("./models/metricAdapter"),y=e("../deviceDirectory/deviceDirectoryApi"),v=e("../common/idGenerator"),_=e("../../common/pagination"),b=e("../../primary/subscribe/subscribe"),w=e("websocket"),S=e("../../common/logger"),E=function(e){function t(t){var r=e.call(this)||this;return r._websockerUrl="",r._asyncFns={},r._notifyFns={},t=t||{},r._instanceId=v.generateId(),r._connectOptions=t,r._endpoints=new p.Endpoints(t),r._deviceDirectory=new y.DeviceDirectoryApi(t),r._log=S.loggerFactory("connectApi"+r._instanceId,t.logLevel).getLogger("ConnectApi"),r._restartCount=0,r._websockerUrl=t.host?t.host.replace("https","wss")+"/v2/notification/websocket-connect":"wss://api.us-east-1.mbedcloud.com/v2/notification/websocket-connect",t.handleNotifications&&(t.autostartNotifications=!1,r._deliveryMethod="SERVER_INITIATED"),r.forceClear=!0===t.forceClear,r.autostartNotifications=!0===t.autostartNotifications,!0===r.autostartNotifications&&(r._deliveryMethod="CLIENT_INITIATED"),r.subscribe=new b.Subscribe(r),r}return n(t,e),Object.defineProperty(t.prototype,"deliveryMethod",{get:function(){return this._deliveryMethod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),t.prototype.notify=function(e){var r=this;e&&(e.notifications&&e.notifications.forEach(function(e){var n=e.payload?u.decodeBase64(e.payload,e.ct):null,o=""+e.ep+e.path,i=r._notifyFns[o];i&&i(n),r.emit(t.EVENT_NOTIFICATION,{id:e.ep,path:e.path,payload:n}),r.subscribe.notifyResourceValues({deviceId:e.ep,path:e.path,payload:n,maxAge:e["max-age"],contentType:e.ct})}),e.registrations&&e.registrations.forEach(function(e){var n=m.DeviceEventAdapter.map(e,r,"registration");r.subscribe.notifyDeviceEvents(n),r.emit(t.EVENT_REGISTRATION,n)}),e["reg-updates"]&&e["reg-updates"].forEach(function(e){var n=m.DeviceEventAdapter.map(e,r,"reregistration");r.subscribe.notifyDeviceEvents(n),r.emit(t.EVENT_REREGISTRATION,n)}),e["de-registrations"]&&e["de-registrations"].forEach(function(e){var n=m.DeviceEventAdapter.mapId(e,"deregistration");r.subscribe.notifyDeviceEvents(n),r.emit(t.EVENT_DEREGISTRATION,e)}),e["registrations-expired"]&&e["registrations-expired"].forEach(function(e){var n=m.DeviceEventAdapter.mapId(e,"expired");r.subscribe.notifyDeviceEvents(n),r.emit(t.EVENT_EXPIRED,e)}),e["async-responses"]&&e["async-responses"].forEach(function(e){var t=e.id,n=r._asyncFns[t];if(n){if(e.status>=400){n(new c.SDKError(e.error||e.status,null,null,e.status),null)}else{var o=e.payload?u.decodeBase64(e.payload,e.ct):null;o?n(null,o):n(null,e)}delete r._asyncFns[t]}}))},t.prototype.startNotifications=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),e.requestCallback&&(this._requestCallback=e.requestCallback),this._deliveryMethod||(this._deliveryMethod="CLIENT_INITIATED"),u.asyncStyle(function(e){return o(r,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return"SERVER_INITIATED"===this._deliveryMethod?[2,e(new c.SDKError("cannot call start notifications if delivery method is server initiated"),null)]:(this._log.debug("starting notifications..."),this._webSocketClient&&this._webSocketClient.OPEN?(this._log.debug("notifications already started"),[2,e(null,null)]):this.forceClear?[4,this.forceClearWebhook()]:[3,2]);case 1:return r.sent(),[3,4];case 2:return[4,this.getWebhook()];case 3:if(r.sent())return[2,e(new c.SDKError("cannot call start notifications as a webhook already exists"),null)];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,this.initiateWebSocket()];case 5:return r.sent(),[3,7];case 6:return t=r.sent(),[2,e(t,null)];case 7:return[2,e(null,null)]}})})},t)},t.prototype.stopNotifications=function(e){var t=this;return u.asyncStyle(function(e){return o(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return"SERVER_INITIATED"===this._deliveryMethod?(this._log.warn("should not call stop notifications if delivery method is server initiated"),[2,e(null,null)]):(this._log.debug("stopping notifications..."),!this._webSocketClient||this._webSocketClient&&"open"!==this._webSocketClient._connection.state?(this._log.debug("nothing to stop"),[2,e(null,null)]):[4,this.stopWebSocket()]);case 1:return t.sent(),[2,e(null,null)]}})})},e)},t.prototype.getWebhook=function(e){var t=this;return u.asyncStyle(function(e){t._endpoints.notifications.getWebhook(function(t,r){if(t)return 404===t.code?e(null,null):e(t);var n=l.WebhookAdapter.map(r);e(null,n)})},e)},t.prototype.updateWebhook=function(e,t,r,n){var o=this;return t=t||{},r=r||!1,"function"==typeof r&&(n=r,r=!1),"function"==typeof t&&(n=t,t={}),this._deliveryMethod||(this._deliveryMethod="SERVER_INITIATED"),u.asyncStyle(function(n){function i(){this._endpoints.notifications.registerWebhook({url:e,headers:t},function(e){if(e)return n(e);n(null,null)})}if("CLIENT_INITIATED"===o._deliveryMethod)return n(new c.SDKError("cannot update webhook if delivery method is client initiated"),null);o.forceClear||r?o.stopNotifications(i.bind(o)):i.call(o)},n)},t.prototype.deleteWebhook=function(e){var t=this;return u.asyncStyle(function(e){t._endpoints.notifications.deregisterWebhook(function(){e(null,null)})},e)},t.prototype.listPresubscriptions=function(e){var t=this;return u.apiWrapper(function(e){t._endpoints.subscriptions.getPreSubscriptions(e)},function(e,t){t(null,e.map(d.PresubscriptionAdapter.map))},e)},t.prototype.updatePresubscriptions=function(e,t){var r=this;return u.apiWrapper(function(t){var n=e.map(d.PresubscriptionAdapter.reverseMap);r._endpoints.subscriptions.updatePreSubscriptions(n,t)},function(e,t){t(null,e)},t)},t.prototype.deletePresubscriptions=function(e){var t=this;return u.apiWrapper(function(e){t._endpoints.subscriptions.deletePreSubscriptions(e)},function(e,t){t(null,e)},e)},t.prototype.deleteSubscriptions=function(e){var t=this;return u.asyncStyle(function(e){_.executeForAll(t.listConnectedDevices.bind(t),t.deleteDeviceSubscriptions.bind(t)).then(function(){return e(null)},e)},e)},t.prototype.listConnectedDevices=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),e.filter=e.filter||{},e.filter.state="registered",u.apiWrapper(function(t){r._deviceDirectory.listDevices(e,t)},function(e,t){var n=e.data.map(function(e){return new g.ConnectedDevice(e,r)});t(null,new s.ListResponse(e,n))},t)},t.prototype.listDeviceSubscriptions=function(e,t){var r=this;return u.apiWrapper(function(t){r._endpoints.subscriptions.getEndpointSubscriptions(e,t)},function(e,t){t(null,e)},t)},t.prototype.deleteDeviceSubscriptions=function(e,t){var r=this;return u.apiWrapper(function(t){r._endpoints.subscriptions.deleteEndpointSubscriptions(e,t)},function(t,n){Object.keys(r._notifyFns).forEach(function(t){0===t.indexOf(e+"/")&&delete r._notifyFns[t]}),n(null,t)},t)},t.prototype.listResources=function(e,t){var r=this;return u.apiWrapper(function(t){r._endpoints.endpoints.getEndpointResources(e,t)},function(t,n){n(null,t.map(function(t){return f.ResourceAdapter.map(t,e,r)}))},t)},t.prototype.getResource=function(e,t,r){var n=this;return t=this.normalizePath(t),u.apiWrapper(function(t){n._endpoints.endpoints.getEndpointResources(e,t)},function(r,o){var i=r.find(function(e){return n.normalizePath(e.uri)===t});if(!i)return o(new c.SDKError("Resource not found"),null);o(null,f.ResourceAdapter.map(i,e,n))},r)},t.prototype.getResourceValue=function(e,t,r,n,a){var s=this;"function"==typeof r&&(a=r,r=null),"function"==typeof n&&(a=n,n=null),t=this.reverseNormalizePath(t);var p=v.generateId();return u.apiWrapper(function(u){return o(s,void 0,void 0,function(){var o,s=this;return i(this,function(i){switch(i.label){case 0:return[4,this.getWebhook()];case 1:return i.sent()&&!this.forceClear?[2,u(new c.SDKError("webhook in use"),null)]:(this._asyncFns[p]=u,a&&setTimeout(function(){s._asyncFns[p]&&(u(new c.SDKError("Timeout getting async value. Timeout "+r+"ms"),null),delete s._asyncFns[p])},r),o=function(e){e&&(delete s._asyncFns[p],u(e,null))},this.autostartNotifications?this.startNotifications(null,function(r){if(r)return o(r);s._endpoints.deviceRequests.createAsyncRequest(e,p,{method:"GET",uri:t,accept:n},o)}):this._endpoints.deviceRequests.createAsyncRequest(e,p,{method:"GET",uri:t,accept:n},o),[2])}})})},null,a,!1,r)},t.prototype.setResourceValue=function(e,t,r,n,a,s){var p=this;"function"==typeof n&&(s=n,n=null),"function"==typeof a&&(s=a,a=null),t=this.reverseNormalizePath(t);var l=v.generateId(),d=u.encodeBase64(r);return u.apiWrapper(function(r){return o(p,void 0,void 0,function(){var o,u=this;return i(this,function(i){switch(i.label){case 0:return[4,this.getWebhook()];case 1:return i.sent()&&!this.forceClear?[2,r(new c.SDKError("webhook in use"),null)]:(this._asyncFns[l]=r,s&&setTimeout(function(){u._asyncFns[l]&&(r(new c.SDKError("Timeout getting async value. Timeout "+n+"ms"),null),delete u._asyncFns[l])},n),o=function(e){if(e)return delete u._asyncFns[l],r(e,null)},this.autostartNotifications?this.startNotifications(null,function(r){if(r)return o(r);u._endpoints.deviceRequests.createAsyncRequest(e,l,{method:"PUT",uri:t,"content-type":a,"payload-b64":d},o)}):this._endpoints.deviceRequests.createAsyncRequest(e,l,{method:"PUT",uri:t,"content-type":a,"payload-b64":d},o),[2])}})})},null,s,!1,n)},t.prototype.executeResource=function(e,t,r,n,a,s,p){var l=this;"function"==typeof r&&(p=r,r=null),"function"==typeof n&&(p=n,n=null),"function"==typeof s&&(p=s,s=null),"function"==typeof a&&(p=a,a=null),t=this.reverseNormalizePath(t);var d=v.generateId();return u.apiWrapper(function(f){return o(l,void 0,void 0,function(){var o,l=this;return i(this,function(i){switch(i.label){case 0:return[4,this.getWebhook()];case 1:return i.sent()&&!this.forceClear?[2,f(new c.SDKError("webhook in use"),null)]:(this._asyncFns[d]=f,p&&setTimeout(function(){l._asyncFns[d]&&(f(new c.SDKError("Timeout getting async value. Timeout "+n+"ms"),null),delete l._asyncFns[d])},n),o=function(e){if(e)return delete l._asyncFns[d],f(e,null)},this.autostartNotifications?this.startNotifications(null,function(n){if(n)return o(n);l._endpoints.deviceRequests.createAsyncRequest(e,d,{method:"POST",uri:t,"content-type":a,accept:s,"payload-b64":u.encodeBase64(r)},o)}):this._endpoints.deviceRequests.createAsyncRequest(e,d,{method:"POST",uri:t,"content-type":a,accept:s,"payload-b64":u.encodeBase64(r)},o),[2])}})})},null,p,!1,n)},t.prototype.getResourceSubscription=function(e,t,r){var n=this;return t=this.normalizePath(t),u.asyncStyle(function(r){n._endpoints.subscriptions.checkResourceSubscription(e,t,function(e){return r(null,!e)})},r)},t.prototype.addResourceSubscription=function(e,t,r,n){var o=this;return t=this.normalizePath(t),u.apiWrapper(function(r){o.startNotifications(null,function(n){if(n)return r(n,null);o._endpoints.subscriptions.addResourceSubscription(e,t,r)})},function(n,i){r&&(o._notifyFns[e+"/"+t]=r),o.handleAsync(n,i)},n)},t.prototype.deleteResourceSubscription=function(e,t,r){var n=this;return t=this.normalizePath(t),u.apiWrapper(function(r){n.startNotifications(null,function(o){if(o)return r(o,null);n._endpoints.subscriptions.deleteResourceSubscription(e,t,r)})},function(r,o){delete n._notifyFns[e+"/"+t],o(null,null)},r)},t.prototype.listMetrics=function(e,t){var r=this;return u.apiWrapper(function(t){var n=e,o=n.limit,i=n.after,a=n.order,s=n.include,u=n.interval,c=null,p=null,l=null;!function(e){return void 0!==e.period}(e)?(c=e.start,p=e.end):l=h.MetricAdapter.mapTimePeriod(e.period),r._endpoints.statistics.v3MetricsGet(h.MetricAdapter.mapIncludes(s),h.MetricAdapter.mapTimePeriod(u),c,p,l,o,i,a,t)},function(e,t){var r=[];e.data&&e.data.length&&(r=e.data.map(function(e){return h.MetricAdapter.map(e)})),t(null,new s.ListResponse(e,r))},t)},t.prototype.getWebsocket=function(e){var t=this;return u.asyncStyle(function(e){t._endpoints.notifications.getWebsocket(function(t,r){if(t)return 404===t.code?e(null,null):e(t);e(null,r)})},e)},t.prototype.registerWebsocket=function(e){var t=this;return u.asyncStyle(function(e){t._endpoints.notifications.registerWebsocket(function(t,r){if(t)return e(t);e(null,r)})},e)},t.prototype.deleteWebsocket=function(e){var t=this;return u.asyncStyle(function(e){t._endpoints.notifications.deleteWebsocket(function(t,r){if(t)return e(t);e(null,null)})},e)},t.prototype.getLastApiMetadata=function(e){var t=this;return u.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},t.prototype.normalizePath=function(e){return e&&"/"===e.charAt(0)?e.substr(1):e},t.prototype.reverseNormalizePath=function(e){return e&&"/"!==e.charAt(0)?"/"+e:e},t.prototype.handleAsync=function(e,r){if(e&&e[t.ASYNC_KEY])return void(this._asyncFns[e[t.ASYNC_KEY]]=r);r(null,e)},t.prototype.initiateWebSocket=function(){var e=this;return new Promise(function(t,r){e._endpoints.notifications.getWebsocket(function(n,a){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:if(this._log.debug("check if channel has been registered"),!n)return[3,6];if(404!==n.code)return[3,5];this._log.debug("no channel found so need to register a websocket"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.registerWebSocket()];case 2:return o.sent(),[3,4];case 3:return e=o.sent(),[2,r(e)];case 4:return[3,6];case 5:return[2,r(n)];case 6:this._log.debug("we have a channel so start websocket");try{return this.startWebSocket(),[2,t()]}catch(e){return[2,r(e)]}return[2]}})})})})},t.prototype.registerWebSocket=function(){var e=this;return new Promise(function(t,r){e._endpoints.notifications.registerWebsocket(function(n,a){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return n?400!==n.code?[3,3]:(this._log.debug("another channel already exists so force clear and re register websocket"),[4,this.forceClearWebhook()]):[3,4];case 1:return o.sent(),e=t,[4,this.registerWebSocket()];case 2:return[2,e.apply(void 0,[o.sent()])];case 3:return[2,r(n)];case 4:return this._log.debug("registered websocket successfully"),[2,t()]}})})})})},t.prototype.forceClearWebhook=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this._log.warn("deleting any existing webhook connection"),[4,this.deleteWebhook()];case 1:return e.sent(),[2]}})})},t.prototype.startWebSocket=function(){var e=this;this._webSocketClient=new w.w3cwebsocket(this._websockerUrl,["pelion_"+this._connectOptions.apiKey,"wss"]),this._webSocketClient.onerror=function(t){return o(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this._log.error("error from websocket",t),[4,this.stopNotifications()];case 1:return e.sent(),[2]}})})},this._webSocketClient.onopen=function(){e._log.info("notifications started...")},this._webSocketClient.onclose=function(){return o(e,void 0,void 0,function(){var e,r,n;return i(this,function(o){switch(o.label){case 0:return e=this._webSocketClient._connection,(r=e.closeReasonCode,n=e.closeDescription,this._log.debug("received close message - "+r+" - "+n),1e3!==r)?[3,4]:this._isClosing?(this._log.debug("we are closing so this is expected - do nothing"),[3,4]):[3,1];case 1:return this._restartCount>t.MAXIMUM_NUMBER_OF_RETRIES?[4,this.stopNotifications()]:[3,3];case 2:throw o.sent(),new c.SDKError("exceeded the limit of restart attempts");case 3:this.restartWebsocket(),o.label=4;case 4:return 1001!==r&&1011!==r?[3,8]:this._restartCount>t.MAXIMUM_NUMBER_OF_RETRIES?[4,this.stopNotifications()]:[3,6];case 5:throw o.sent(),new c.SDKError("exceeded the limit of restart attempts");case 6:this.restartWebsocket(!0),o.label=7;case 7:return[3,10];case 8:return[4,this.stopNotifications()];case 9:o.sent(),o.label=10;case 10:return[2]}})})},this._webSocketClient.onmessage=function(t){e._restartCount=0;var r=JSON.parse(t.data);e.notify(r),e._requestCallback&&r["async-responses"]&&e._requestCallback(null,r["async-responses"])}},t.prototype.restartWebsocket=function(e){var r=this;setTimeout(function(){return o(r,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this._log.warn("and re-register "),[4,this.stopWebSocket()];case 1:return t.sent(),e?[4,this.registerWebSocket()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.startWebSocket()];case 4:return t.sent(),this._restartCount++,[2]}})})},t.DELAY_BETWEEN_RETRIES*this._restartCount)},t.prototype.stopWebSocket=function(){var e=this;return this._isClosing=!0,this._log.debug("closing the websocket with 1000 - normal closure"),this._webSocketClient.close(1e3,""),this._log.debug("deleting the websocket channel"),new Promise(function(t,r){e._endpoints.notifications.deleteWebsocket(function(n,o){return n&&404!==n.code?r(n):(e._isClosing=!1,t())})})},t.EVENT_NOTIFICATION="notification",t.EVENT_REGISTRATION="registration",t.EVENT_REREGISTRATION="reregistration",t.EVENT_DEREGISTRATION="deregistration",t.EVENT_EXPIRED="expired",t.ASYNC_KEY="async-response-id",t.DELAY_BETWEEN_RETRIES=1e3,t.MAXIMUM_NUMBER_OF_RETRIES=3,t}(a.EventEmitter);r.ConnectApi=E},{"../../common/logger":1,"../../common/pagination":2,"../../primary/subscribe/subscribe":87,"../common/functions":43,"../common/idGenerator":44,"../common/listResponse":45,"../common/sdkError":46,"../deviceDirectory/deviceDirectoryApi":59,"./endpoints":49,"./models/connectedDevice":50,"./models/deviceEventAdapter":51,"./models/metricAdapter":53,"./models/presubscriptionAdapter":54,"./models/resourceAdapter":56,"./models/webhookAdapter":58,events:92,websocket:138}],49:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../_api/statistics"),i=e("../common/endpointsBase"),a=e("../_api/mds"),s=function(e){function t(t){var r=e.call(this)||this;return r.endpoints=new a.EndpointsApi(t,r.responseHandler.bind(r)),r.deviceRequests=new a.DeviceRequestsApi(t,r.responseHandler.bind(r)),r.notifications=new a.NotificationsApi(t,r.responseHandler.bind(r)),r.resources=new a.ResourcesApi(t,r.responseHandler.bind(r)),r.subscriptions=new a.SubscriptionsApi(t,r.responseHandler.bind(r)),r.account=new o.AccountApi(t,r.responseHandler.bind(r)),r.statistics=new o.StatisticsApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(i.EndpointsBase);r.Endpoints=s},{"../_api/mds":9,"../_api/statistics":10,"../common/endpointsBase":42}],50:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../common/functions"),i=e("../../deviceDirectory/models/device"),a=function(e){function t(t,r){var n=e.call(this)||this;n._connectApi=r;for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);return n}return n(t,e),t.prototype.listResources=function(e){var t=this;return o.asyncStyle(function(e){t._connectApi.listResources(t.id,e)},e)},t.prototype.getResource=function(e,t){var r=this;return o.asyncStyle(function(t){r._connectApi.getResource(r.id,e,t)},t)},t.prototype.listSubscriptions=function(e){var t=this;return o.asyncStyle(function(e){t._connectApi.listDeviceSubscriptions(t.id,e)},e)},t.prototype.deleteSubscriptions=function(e){var t=this;return o.asyncStyle(function(e){t._connectApi.deleteDeviceSubscriptions(t.id,e)},e)},t.prototype.getResourceValue=function(e,t,r,n){var i=this;return"function"==typeof t&&(n=t,t=null),"function"==typeof r&&(n=r,r=null),o.asyncStyle(function(n){i._connectApi.getResourceValue(i.id,e,t,r,n)},n)},t.prototype.setResourceValue=function(e,t,r,n,i){var a=this;return"function"==typeof r&&(i=r,r=null),"function"==typeof n&&(i=n,n=null),o.asyncStyle(function(o){a._connectApi.setResourceValue(a.id,e,t,r,n,o)},i)},t.prototype.executeResource=function(e,t,r,n,i,a){var s=this;return"function"==typeof t&&(a=t,t=null),"function"==typeof r&&(a=r,r=null),"function"==typeof i&&(a=i,i=null),"function"==typeof n&&(a=n,n=null),o.asyncStyle(function(o){s._connectApi.executeResource(s.id,e,r,n,i,t,o)},a)},t.prototype.getResourceSubscription=function(e,t){var r=this;return o.asyncStyle(function(t){r._connectApi.getResourceSubscription(r.id,e,t)},t)},t.prototype.addResourceSubscription=function(e,t,r){var n=this;return o.asyncStyle(function(r){n._connectApi.addResourceSubscription(n.id,e,t,r)},r)},t.prototype.deleteResourceSubscription=function(e,t){var r=this;return o.asyncStyle(function(t){r._connectApi.deleteResourceSubscription(r.id,e,t)},t)},t}(i.Device);r.ConnectedDevice=a},{"../../common/functions":43,"../../deviceDirectory/models/device":62}],51:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./resource"),o=function(){function e(){}return e.mapResource=function(e,t,r){return new n.Resource({contentType:e.ct,observable:e.obs,type:e.rt,path:e.path,deviceId:t},r)},e.map=function(t,r,n){var o=[];return t&&t.resources&&(o=t.resources.map(function(n){return e.mapResource(n,t.ep,r)})),{id:t.ep,type:t.ept,queueMode:t.q,resources:o,event:n}},e.mapId=function(e,t){return{id:e,event:t}},e}();r.DeviceEventAdapter=o},{"./resource":55}],52:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}return e}();r.Metric=n},{}],53:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./metric"),o=function(){function e(){}return e.map=function(e){return new n.Metric({id:e.id,timestamp:e.timestamp,handshakes:e.handshakes_successful,transactions:e.transactions,observations:e.device_observations,successfulApiCalls:e.connect_rest_api_success,failedApiCalls:e.connect_rest_api_error,successfulProxyRequests:e.device_proxy_request_success,failedProxyRequests:e.device_proxy_request_error,successfulSubscriptionRequests:e.device_subscription_request_success,failedSubscriptionRequests:e.device_subscription_request_error,successfulBootstraps:e.bootstraps_successful,failedBootstraps:e.bootstraps_failed,pendingBootstraps:e.bootstraps_pending,fullRegistrations:e.full_registrations,updatedRegistrations:e.registration_updates,expiredRegistrations:e.expired_registrations,deletedRegistrations:e.deleted_registrations})},e.mapIncludes=function(e){var t=[],r=["handshakes","transactions","observations","successfulApiCalls","failedApiCalls","successfulProxyRequests","failedProxyRequests","successfulSubscriptionRequests","failedSubscriptionRequests","successfulBootstraps","failedBootstraps","pendingBootstraps","fullRegistrations","updatedRegistrations","expiredRegistrations","deletedRegistrations"],n=["handshakes_successful","transactions","device_observations","connect_rest_api_success","connect_rest_api_error","device_proxy_request_success","device_proxy_request_error","device_subscription_request_success","device_subscription_request_error","bootstraps_successful","bootstraps_failed","bootstraps_pending","full_registrations","registration_updates","expired_registrations","deleted_registrations"];return e&&e.forEach(function(e){var o=r.indexOf(e);o>=0&&t.push(n[o])}),0===t.length&&(t=n),t.join(",")},e.mapTimePeriod=function(t){if(!t)return e.DEFAULT_TIME_PERIOD;var r=t.unit[0];return""+t.duration+r},e.DEFAULT_TIME_PERIOD="1d",e}();r.MetricAdapter=o},{"./metric":52}],54:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){}return e.map=function(e){return{deviceId:e["endpoint-name"],deviceType:e["endpoint-type"],resourcePaths:e["resource-path"]}},e.reverseMap=function(e){return{"endpoint-name":e.deviceId,"endpoint-type":e.deviceType,"resource-path":e.resourcePaths}},e}();r.PresubscriptionAdapter=n},{}],55:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("events"),i=e("../../common/functions"),a=function(e){function t(r,n){var o=e.call(this)||this;o._api=n;for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.on("newListener",function(e){e===t.EVENT_NOTIFICATION&&o.addSubscription(function(e){return o.emit(t.EVENT_NOTIFICATION,e)})}),o.on("removeListener",function(e){e===t.EVENT_NOTIFICATION&&0===o.listenerCount(t.EVENT_NOTIFICATION)&&o.deleteSubscription()}),o}return n(t,e),t.prototype.addSubscription=function(e,t){var r=this;return i.asyncStyle(function(t){if(!r.observable)return t(null,null);r._api.addResourceSubscription(r.deviceId,r.path,e,t)},t)},t.prototype.deleteSubscription=function(e){var t=this;return i.asyncStyle(function(e){t._api.deleteResourceSubscription(t.deviceId,t.path,e)},e)},t.prototype.getValue=function(e,t,r){var n=this;return"function"==typeof e&&(r=e,e=null),"function"==typeof t&&(r=t,t=null),i.asyncStyle(function(r){n._api.getResourceValue(n.deviceId,n.path,e,t,r)},r)},t.prototype.setValue=function(e,t,r,n){var o=this;return"function"==typeof t&&(n=t,t=null),"function"==typeof r&&(n=r,r=null),i.asyncStyle(function(n){o._api.setResourceValue(o.deviceId,o.path,e,t,r,n)},n)},t.prototype.execute=function(e,t,r,n,o){var a=this;return"function"==typeof e&&(o=e,e=null),"function"==typeof t&&(o=t,t=null),"function"==typeof n&&(o=n,n=null),"function"==typeof r&&(o=r,r=null),i.asyncStyle(function(o){a._api.executeResource(a.deviceId,a.path,t,r,n,e,o)},o)},t.prototype.getSubscription=function(e){var t=this;return i.asyncStyle(function(e){if(!t.observable)return e(null,!1);t._api.getResourceSubscription(t.deviceId,t.path,e)},e)},t.EVENT_NOTIFICATION="notification",t}(o.EventEmitter);r.Resource=a},{"../../common/functions":43,events:92}],56:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./resource"),o=function(){function e(){}return e.map=function(e,t,r){return new n.Resource({contentType:e.type,observable:e.obs,type:e.rt,path:e.uri,deviceId:t},r)},e}();r.ResourceAdapter=o},{"./resource":55}],57:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}return e}();r.Webhook=n},{}],58:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./webhook"),o=function(){function e(){}return e.map=function(e){return new n.Webhook({url:e.url,headers:e.headers})},e}();r.WebhookAdapter=o},{"./webhook":57}],59:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../common/functions"),o=e("../common/listResponse"),i=e("./models/deviceAdapter"),a=e("./models/queryAdapter"),s=e("./models/deviceEventAdapter"),u=e("./endpoints"),c=e("./filters"),p=function(){function e(e){this._endpoints=new u.Endpoints(e)}return e.prototype.listDevices=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e.limit,i=e.after,a=e.order,s=e.include,u=e.filter;r._endpoints.directory.deviceList(o,a,i,n.encodeFilter(u,c.Filters.DEVICE_FILTER_MAP,c.Filters.NESTED_FILTERS),n.encodeInclude(s),t)},function(e,t){var n=e.data.map(function(e){return i.DeviceAdapter.map(e,r)});t(null,new o.ListResponse(e,n))},t)},e.prototype.getDevice=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceRetrieve(e,t)},function(e,t){t(null,i.DeviceAdapter.map(e,r))},t)},e.prototype.addDevice=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceCreate(i.DeviceAdapter.addMap(e),t)},function(e,t){t(null,i.DeviceAdapter.map(e,r))},t)},e.prototype.updateDevice=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceUpdate(e.id,i.DeviceAdapter.updateMap(e),t)},function(e,t){t(null,i.DeviceAdapter.map(e,r))},t)},e.prototype.deleteDevice=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceDestroy(e,t)},function(e,t){t(null,e)},t)},e.prototype.listQueries=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e.limit,i=e.order,a=e.after,s=e.include,u=e.filter;r._endpoints.directory.deviceQueryList(o,i,a,n.encodeFilter(u,c.Filters.EMPTY_FILTER_MAP),n.encodeInclude(s),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return a.QueryAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getQuery=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceQueryRetrieve(e,t)},function(e,t){t(null,a.QueryAdapter.map(e,r))},t)},e.prototype.addQuery=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceQueryCreate(a.QueryAdapter.addMap(e),t)},function(e,t){t(null,a.QueryAdapter.map(e,r))},t)},e.prototype.updateQuery=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceQueryUpdate(e.id,a.QueryAdapter.updateMap(e),t)},function(e,t){t(null,a.QueryAdapter.map(e,r))},t)},e.prototype.deleteQuery=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceQueryDestroy(e,t)},function(e,t){t(null,e)},t)},e.prototype.listDeviceEvents=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.order,s=o.after,u=o.include,p=o.filter;r._endpoints.directory.deviceLogList(i,a,s,n.encodeFilter(p,c.Filters.DEVICE_EVENT_FILTER_MAP),n.encodeInclude(u),t)},function(e,t){var r;e.data&&e.data.length&&(r=e.data.map(function(e){return s.DeviceEventAdapter.map(e)})),t(null,new o.ListResponse(e,r))},t)},e.prototype.getDeviceEvent=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.directory.deviceLogRetrieve(e,t)},function(e,t){t(null,s.DeviceEventAdapter.map(e))},t)},e.prototype.getLastApiMetadata=function(e){var t=this;return n.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},e}();r.DeviceDirectoryApi=p},{"../common/functions":43,"../common/listResponse":45,"./endpoints":60,"./filters":61,"./models/deviceAdapter":63,"./models/deviceEventAdapter":65,"./models/queryAdapter":67}],60:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../_api/device_directory"),i=e("../common/endpointsBase"),a=function(e){function t(t){var r=e.call(this)||this;return r.directory=new o.DefaultApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(i.EndpointsBase);r.Endpoints=a},{"../_api/device_directory":6,"../common/endpointsBase":42}],61:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){}return e.NESTED_FILTERS=["customAttributes"],e.DEVICE_FILTER_MAP={from:["alias","bootstrapCertificateExpiration","certificateFingerprint","certificateIssuerId","connectorCertificateExpiration","deviceType"],to:["endpoint_name","bootstrap_expiration_date","device_key","ca_id","connector_expiration_date","endpoint_type"]},e.DEVICE_EVENT_FILTER_MAP={from:["eventDate","type"],to:["date_time","event_type"]},e.EMPTY_FILTER_MAP={from:[],to:[]},e}();r.Filters=n},{}],62:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.update=function(e){var t=this;return n.asyncStyle(function(e){t._api.updateDevice(t,e)},e)},e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteDevice(t.id,e)},e)},e}();r.Device=o},{"../../common/functions":43}],63:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./device"),o=function(){function e(){}return e.map=function(e,t){return new n.Device({accountId:e.account_id,bootstrappedTimestamp:e.bootstrapped_timestamp,createdAt:e.created_at,customAttributes:e.custom_attributes,description:e.description,deviceClass:e.device_class,id:e.id,mechanism:e.mechanism,mechanismUrl:e.mechanism_url,name:e.name,serialNumber:e.serial_number,state:e.state,updatedAt:e.updated_at,vendorId:e.vendor_id,alias:e.endpoint_name,bootstrapCertificateExpiration:e.bootstrap_expiration_date,certificateFingerprint:e.device_key,certificateIssuerId:e.ca_id,connectorCertificateExpiration:e.connector_expiration_date,deviceExecutionMode:e.device_execution_mode,firmwareChecksum:e.firmware_checksum,manifestTimestamp:e.manifest_timestamp,hostGateway:e.host_gateway,deviceType:e.endpoint_type,claimedAt:e.enrolment_list_timestamp},t)},e.addMap=function(e){return{name:e.name,vendor_id:e.vendorId,custom_attributes:e.customAttributes,mechanism:e.mechanism,device_class:e.deviceClass,mechanism_url:e.mechanismUrl,serial_number:e.serialNumber,description:e.description,bootstrap_expiration_date:e.bootstrapCertificateExpiration,bootstrapped_timestamp:e.bootstrappedTimestamp,ca_id:e.certificateIssuerId,connector_expiration_date:e.connectorCertificateExpiration,device_execution_mode:e.deviceExecutionMode,device_key:e.certificateFingerprint,endpoint_name:e.alias,firmware_checksum:e.firmwareChecksum,state:e.state,host_gateway:e.hostGateway,endpoint_type:e.deviceType}},e.updateMap=function(e){return{name:e.name,custom_attributes:e.customAttributes,description:e.description,ca_id:e.certificateIssuerId,device_key:e.certificateFingerprint,endpoint_name:e.alias,host_gateway:e.hostGateway,endpoint_type:e.deviceType}},e}();r.DeviceAdapter=o},{"./device":62}],64:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}return e}();r.DeviceEvent=n},{}],65:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./deviceEvent"),o=function(){function e(){}return e.map=function(e){return new n.DeviceEvent({id:e.id,eventDate:e.date_time,stateChanged:e.state_change,description:e.description,changes:e.changes,typeDescription:e.event_type_description,type:e.event_type,data:e.data,deviceId:e.device_id})},e}();r.DeviceEventAdapter=o},{"./deviceEvent":64}],66:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.update=function(e){var t=this;return n.asyncStyle(function(e){t._api.updateQuery(t,e)},e)},e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteQuery(t.id,e)},e)},e}();r.Query=o},{"../../common/functions":43}],67:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=e("../filters"),i=e("./query"),a=function(){function e(){}return e.map=function(e,t){return new i.Query({filter:n.decodeFilter(e.query,o.Filters.DEVICE_FILTER_MAP,o.Filters.NESTED_FILTERS),createdAt:e.created_at,id:e.id,name:e.name,updatedAt:e.updated_at},t)},e.addMap=function(e){return{name:e.name,query:n.encodeFilter(e.filter,o.Filters.DEVICE_FILTER_MAP,o.Filters.NESTED_FILTERS)||null}},e.updateMap=function(e){return{name:e.name,query:n.encodeFilter(e.filter,o.Filters.DEVICE_FILTER_MAP,o.Filters.NESTED_FILTERS)||null}},e}();r.QueryAdapter=a},{"../../common/functions":43,"../filters":61,"./query":66}],68:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/endpointsBase"),i=e("../_api/enrollment"),a=function(e){function t(t){var r=e.call(this)||this;return r.enrollment=new i.PublicAPIApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(o.EndpointsBase);r.Endpoints=a},{"../_api/enrollment":7,"../common/endpointsBase":42}],69:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../common/functions"),o=e("./endpoints"),i=e("../common/listResponse"),a=e("./models/enrollmentClaimAdapter"),s=function(){function e(e){this._endpoints=new o.Endpoints(e)}return e.prototype.addEnrollmentClaim=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.enrollment.createDeviceEnrollment(a.addMap(e),t)},function(e,t){t(null,a.map(e,r))},t)},e.prototype.getEnrollmentClaim=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.enrollment.getDeviceEnrollment(e,t)},function(e,t){t(null,a.map(e,r))},t)},e.prototype.listEnrollmentClaims=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e),n.apiWrapper(function(t){var o=e.limit,i=e.after,a=e.order,s=e.include;r._endpoints.enrollment.getDeviceEnrollments(o,a,i,n.encodeInclude(s),t)},function(e,t){var n=e.data.map(function(e){return a.map(e,r)});t(null,new i.ListResponse(e,n))},t)},e.prototype.deleteEnrollmentClaim=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.enrollment.deleteDeviceEnrollment(e,t)},function(e,t){t(null,e)},t)},e.prototype.getLastApiMetadata=function(e){var t=this;return n.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},e}();r.EnrollmentApi=s},{"../common/functions":43,"../common/listResponse":45,"./endpoints":68,"./models/enrollmentClaimAdapter":71}],70:[function(e,t,r){"use strict";/*
 * Pelion Device Management JavaScript SDK
 * Copyright Arm Limited 2018
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){var r=this;this._api=t,Object.keys(e).forEach(function(t){r[t]=e[t]})}return e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteEnrollmentClaim(t.id,e)},e)},e}();r.EnrollmentClaim=o},{"../../common/functions":43}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./enrollmentClaim");r.map=function(e,t){return new n.EnrollmentClaim({accountId:e.account_id,claimId:e.enrollment_identity,createdAt:e.created_at,deviceId:e.enrolled_device_id,expiresAt:e.expires_at,id:e.id},t)},r.addMap=function(e){return{enrollment_identity:e.claimId}}},{"./enrollmentClaim":70}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("./accountManagement/accountManagementApi"));var n=e("./billing/billingApi");r.BillingApi=n.BillingApi;var o=e("./bootstrap/bootstrapApi");r.BootstrapApi=o.BootstrapApi;var i=e("./certificates/certificatesApi");r.CertificatesApi=i.CertificatesApi;var a=e("./connect/connectApi");r.ConnectApi=a.ConnectApi;var s=e("./deviceDirectory/deviceDirectoryApi");r.DeviceDirectoryApi=s.DeviceDirectoryApi;var u=e("./enrollment/enrollmentApi");r.EnrollmentApi=u.EnrollmentApi;var c=e("./update/updateApi");r.UpdateApi=c.UpdateApi},{"./accountManagement/accountManagementApi":12,"./billing/billingApi":26,"./bootstrap/bootstrapApi":32,"./certificates/certificatesApi":36,"./connect/connectApi":48,"./deviceDirectory/deviceDirectoryApi":59,"./enrollment/enrollmentApi":69,"./update/updateApi":83}],73:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../_api/update_service"),i=e("../common/endpointsBase"),a=function(e){function t(t){var r=e.call(this)||this;return r.update=new o.DefaultApi(t,r.responseHandler.bind(r)),r}return n(t,e),t}(i.EndpointsBase);r.Endpoints=a},{"../_api/update_service":11,"../common/endpointsBase":42}],74:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){}return e.CAMPAIGN_FILTER_MAP={from:["finishedAt","manifestId","manifestUrl","scheduledAt"],to:["finished","root_manifest_id","root_manifest_url","when"]},e.EMPTY_FILTER_MAP={from:[],to:[]},e}();r.Filters=n},{}],75:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.update=function(e){var t=this;return n.asyncStyle(function(e){t._api.updateCampaign(t,e)},e)},e.prototype.start=function(e){var t=this;return n.asyncStyle(function(e){t._api.startCampaign(t.id,e)},e)},e.prototype.stop=function(e){var t=this;return n.asyncStyle(function(e){t._api.stopCampaign(t.id,e)},e)},e.prototype.listDeviceStates=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.asyncStyle(function(t){r._api.listCampaignDeviceStates(r.id,e,t)},t)},e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteCampaign(t.id,e)},e)},e}();r.Campaign=o},{"../../common/functions":43}],76:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=e("../../deviceDirectory/filters"),i=e("./campaign"),a=function(){function e(){}return e.map=function(e,t){return new i.Campaign({deviceFilter:n.decodeFilter(e.device_filter,o.Filters.DEVICE_FILTER_MAP,o.Filters.NESTED_FILTERS),createdAt:e.created_at,description:e.description,finishedAt:e.finished,id:e.id,manifestId:e.root_manifest_id,manifestUrl:e.root_manifest_url,name:e.name,startedAt:e.started_at,state:e.state,phase:e.phase,scheduledAt:e.when,updatedAt:e.updated_at},t)},e.addMap=function(e){return{description:e.description,device_filter:n.encodeFilter(e.deviceFilter,o.Filters.DEVICE_FILTER_MAP,o.Filters.NESTED_FILTERS)||null,name:e.name,root_manifest_id:e.manifestId,state:e.state,when:e.scheduledAt,object:e.object}},e.updateMap=function(e){return{description:e.description,device_filter:n.encodeFilter(e.deviceFilter,o.Filters.DEVICE_FILTER_MAP,o.Filters.NESTED_FILTERS)||null,name:e.name,root_manifest_id:e.manifestId,state:e.state,when:e.scheduledAt,object:e.object}},e}();r.CampaignAdapter=a},{"../../common/functions":43,"../../deviceDirectory/filters":61,"./campaign":75}],77:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}return e}();r.CampaignDeviceState=n},{}],78:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./campaignDeviceState"),o=function(){function e(){}return e.map=function(e){return new n.CampaignDeviceState({id:e.id,deviceId:e.device_id,campaignId:e.campaign,state:e.deployment_state,name:e.name,description:e.description,createdAt:e.created_at,updatedAt:e.updated_at,mechanism:e.mechanism,mechanismUrl:e.mechanism_url})},e}();r.CampaignDeviceStateAdapter=o},{"./campaignDeviceState":77}],79:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteFirmwareImage(t.id,e)},e)},e}();r.FirmwareImage=o},{"../../common/functions":43}],80:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./firmwareImage"),o=function(){function e(){}return e.map=function(e,t){return new n.FirmwareImage({createdAt:e.created_at,url:e.datafile,datafileChecksum:e.datafile_checksum,datafileSize:e.datafile_size,description:e.description,id:e.id,name:e.name,updatedAt:e.updated_at},t)},e}();r.FirmwareImageAdapter=o},{"./firmwareImage":79}],81:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../common/functions"),o=function(){function e(e,t){this._api=t;for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return e.prototype.delete=function(e){var t=this;return n.asyncStyle(function(e){t._api.deleteFirmwareManifest(t.id,e)},e)},e}();r.FirmwareManifest=o},{"../../common/functions":43}],82:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./firmwareManifest"),o=function(){function e(){}return e.map=function(e,t){return new n.FirmwareManifest({createdAt:e.created_at,url:e.datafile,datafileSize:e.datafile_size,keyTableUrl:e.key_table,description:e.description,deviceClass:e.device_class,id:e.id,name:e.name,timestamp:e.timestamp,updatedAt:e.updated_at},t)},e}();r.FirmwareManifestAdapter=o},{"./firmwareManifest":81}],83:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("../common/functions"),o=e("../common/listResponse"),i=e("./models/firmwareImageAdapter"),a=e("./models/firmwareManifestAdapter"),s=e("./models/campaignAdapter"),u=e("./models/campaignDeviceStateAdapter"),c=e("./endpoints"),p=e("./filters"),l=function(){function e(e){this._endpoints=new c.Endpoints(e)}return e.prototype.listFirmwareImages=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.order,s=o.after,u=o.include,c=o.filter;r._endpoints.update.firmwareImageList(i,a,s,n.encodeFilter(c,p.Filters.EMPTY_FILTER_MAP),n.encodeInclude(u),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return i.FirmwareImageAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getFirmwareImage=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.firmwareImageRetrieve(e,t)},function(e,t){t(null,i.FirmwareImageAdapter.map(e,r))},t)},e.prototype.addFirmwareImage=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.firmwareImageCreate(e.dataFile,e.name,e.description,t)},function(e,t){t(null,i.FirmwareImageAdapter.map(e,r))},t)},e.prototype.deleteFirmwareImage=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.firmwareImageDestroy(e,t)},function(e,t){t(null,e)},t)},e.prototype.listFirmwareManifests=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.order,s=o.after,u=o.include,c=o.filter;r._endpoints.update.firmwareManifestList(i,a,s,n.encodeFilter(c,p.Filters.EMPTY_FILTER_MAP),n.encodeInclude(u),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return a.FirmwareManifestAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getFirmwareManifest=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.firmwareManifestRetrieve(e,t)},function(e,t){t(null,a.FirmwareManifestAdapter.map(e,r))},t)},e.prototype.addFirmwareManifest=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.firmwareManifestCreate(e.dataFile,e.name,e.description,e.keyTableFile,t)},function(e,t){t(null,a.FirmwareManifestAdapter.map(e,r))},t)},e.prototype.deleteFirmwareManifest=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.firmwareManifestDestroy(e,t)},function(e,t){t(null,e)},t)},e.prototype.listCampaigns=function(e,t){var r=this;return e=e||{},"function"==typeof e&&(t=e,e={}),n.apiWrapper(function(t){var o=e,i=o.limit,a=o.order,s=o.after,u=o.include,c=o.filter;r._endpoints.update.updateCampaignList(i,a,s,n.encodeFilter(c,p.Filters.CAMPAIGN_FILTER_MAP),n.encodeInclude(u),t)},function(e,t){var n;e.data&&e.data.length&&(n=e.data.map(function(e){return s.CampaignAdapter.map(e,r)})),t(null,new o.ListResponse(e,n))},t)},e.prototype.getCampaign=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.updateCampaignRetrieve(e,t)},function(e,t){t(null,s.CampaignAdapter.map(e,r))},t)},e.prototype.addCampaign=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.updateCampaignCreate(s.CampaignAdapter.addMap(e),t)},function(e,t){t(null,s.CampaignAdapter.map(e,r))},t)},e.prototype.updateCampaign=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.updateCampaignUpdate(e.id,s.CampaignAdapter.updateMap(e),t)},function(e,t){t(null,s.CampaignAdapter.map(e,r))},t)},e.prototype.deleteCampaign=function(e,t){var r=this;return n.apiWrapper(function(t){r._endpoints.update.updateCampaignDestroy(e,t)},function(e,t){t(null,e)},t)},e.prototype.startCampaign=function(e,t){var r=this;return n.apiWrapper(function(t){r.updateCampaign({id:e,state:"scheduled"},t)},function(e,t){t(null,e)},t)},e.prototype.stopCampaign=function(e,t){var r=this;return n.apiWrapper(function(t){r.updateCampaign({id:e,state:"draft"},t)},function(e,t){t(null,e)},t)},e.prototype.listCampaignDeviceStates=function(e,t,r){var i=this;return t=t||{},"function"==typeof t&&(r=t,t={}),n.apiWrapper(function(r){var o=t.limit,a=t.order,s=t.after,u=t.include;i._endpoints.update.updateCampaignMetadataList(e,o,a,s,n.encodeInclude(u),r)},function(e,t){var r;e.data&&e.data.length&&(r=e.data.map(function(e){return u.CampaignDeviceStateAdapter.map(e)})),t(null,new o.ListResponse(e,r))},r)},e.prototype.getLastApiMetadata=function(e){var t=this;return n.asyncStyle(function(e){e(null,t._endpoints.getLastMeta())},e)},e}();r.UpdateApi=l},{"../common/functions":43,"../common/listResponse":45,"./endpoints":73,"./filters":74,"./models/campaignAdapter":76,"./models/campaignDeviceStateAdapter":78,"./models/firmwareImageAdapter":80,"./models/firmwareManifestAdapter":82}],84:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./observer"),i=e("../../../legacy/common/functions"),a=function(e){function t(t){var r=e.call(this)||this;return r._subscribed=!0,t&&(r.filter=t),r}return n(t,e),t.prototype.filterFunc=function(e){if(this.filter)for(var t in this.filter)if(-1===i.ensureArray(this.filter[t]).indexOf(e[t]))return!1;return!0},t.prototype.notify=function(t){this._subscribed&&this.filterFunc(t)&&e.prototype.notify.call(this,t)},t.prototype.unsubscribe=function(){this._subscribed=!1,e.prototype.clearListeners.call(this)},t}(o.Observer);r.DeviceStateObserver=a},{"../../../legacy/common/functions":43,"./observer":85}],85:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this.subscribed=!0,this.notificationQueue=new Array,this.callbacks=new Array,this._waiting=new Array,this.filters=new Array}return e.prototype.notify=function(e){this.runLocalFilter(e)&&(this._notifyCallbacks(e),this._waiting.length>0?this._waiting.shift()(e):this.notificationQueue.push(e))},e.prototype.once=function(e){var t=this;if(this.notificationQueue.length>0){var r=this.notificationQueue.shift();if(!e)return new Promise(function(e,t){e(r)});e(r)}else{if(!e){return new Promise(function(e,r){var n=function(t){e(t)};t._waiting.push(n)})}this._waiting.push(e)}},e.prototype.addListener=function(e){return this.callbacks.push(e),this},e.prototype.removeListener=function(e){var t=this.callbacks.indexOf(e,0);return t>-1&&this.callbacks.splice(t,1),this},e.prototype.clearListeners=function(){return this.callbacks=new Array,this},e.prototype.listeners=function(){return this.callbacks},e.prototype.getNotificationQueue=function(){return this.notificationQueue},e.prototype.addLocalFilter=function(e){return this.filters.push(e),this},e.prototype.runLocalFilter=function(e){return!(this.filters.length>0)||this.filters.some(function(t){return t(e)})},e.prototype._notifyCallbacks=function(e){this.callbacks.forEach(function(t){return t(e)})},e}();r.Observer=n},{}],86:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var o=e("./observer"),i=e("../../../legacy/common/functions"),a=function(e){function t(t,r,n){void 0===n&&(n="OnValueUpdate");var o=e.call(this)||this;return o._subscribed=!0,o.firstValue=n,o.localPresubscriptions=new Array,r&&(o.connect=r),t&&(o.filter=t,i.ensureArray(o.filter.deviceId).forEach(function(e){o.localPresubscriptions.push({deviceId:e,resourcePaths:o.filter.resourcePaths||new Array})}),o.syncPresubscriptions()),o}return n(t,e),t.prototype.notify=function(t){this._subscribed&&(0===this.localPresubscriptions.length&&e.prototype.notify.call(this,t),this.compareData(t)&&e.prototype.notify.call(this,t))},t.prototype.unsubscribe=function(){this._subscribed=!1,e.prototype.clearListeners.call(this)},t.prototype.compareData=function(e){return this.localPresubscriptions.some(function(t){return i.matchWithWildcard(t.deviceId,e.deviceId)&&(0===t.resourcePaths.length||t.resourcePaths.some(function(t){return i.matchWithWildcard(t,e.path)}))})},t.prototype.syncPresubscriptions=function(){var e=this;this.connect&&(this.connect.listPresubscriptions().then(function(t){var r=e.localPresubscriptions.concat(t),n=r.filter(function(e,t,r){return t===r.indexOf(e)});e.connect.updatePresubscriptions(n)}),"OnValueUpdate"===this.firstValue&&this.localPresubscriptions.forEach(function(t){e.connect.listConnectedDevices().then(function(r){r.data.filter(function(e){return i.matchWithWildcard(e.id,t.deviceId)}).forEach(function(r){r.listResources().then(function(n){n.forEach(function(n){(0===t.resourcePaths.length||t.resourcePaths.some(function(e){return i.matchWithWildcard(e,n.path)}))&&e.connect.addResourceSubscription(r.id,n.path)})})})})}))},t}(o.Observer);r.ResourceValuesObserver=a},{"../../../legacy/common/functions":43,"./observer":85}],87:[function(e,t,r){"use strict";/*
* Pelion Device Management JavaScript SDK
* Copyright Arm Limited 2017
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Object.defineProperty(r,"__esModule",{value:!0});var n=e("./observers/deviceStateObserver"),o=e("./observers/resourceValuesObserver"),i=function(){function e(e){e&&(this.connect=e),this.deviceStateObservers=new Array,this.resourceValueObservers=new Array}return e.prototype.deviceStateChanges=function(e){var t=new n.DeviceStateObserver(e);return this.deviceStateObservers.push(t),this.startNotifications(),t},e.prototype.resourceValues=function(e,t){void 0===t&&(t="OnValueUpdate");var r=new o.ResourceValuesObserver(e,this.connect,t);return this.resourceValueObservers.push(r),this.startNotifications(),r},e.prototype.notifyDeviceEvents=function(e){this.deviceStateObservers.forEach(function(t){return t.notify(e)})},e.prototype.notifyResourceValues=function(e){this.resourceValueObservers.forEach(function(t){return t.notify(e)})},e.prototype.startNotifications=function(){this.connect&&this.connect.startNotifications()},e}();r.Subscribe=i},{"./observers/deviceStateObserver":84,"./observers/resourceValuesObserver":86}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){}return e.packageName="mbed-cloud-sdk",e.version="1.0.0",e.commit="42069",e.testrunnerVersion="1.0.0",e.isPublished=!1,e}();r.Version=n},{}],89:[function(e,t,r){},{}],90:[function(e,t,r){function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}void 0!==t&&(t.exports=n),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n,o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],91:[function(t,r,n){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],i):"object"==typeof n?r.exports=i(t("stackframe")):o.ErrorStackParser=i(o.StackFrame)}(this,function(e){"use strict";function t(e,t,r){if("function"==typeof Array.prototype.map)return e.map(t,r);for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o]);return n}function r(e,t,r){if("function"==typeof Array.prototype.filter)return e.filter(t,r);for(var n=[],o=0;o<e.length;o++)t.call(r,e[o])&&n.push(e[o]);return n}function n(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}var o=/(^|@)\S+\:\d+/,i=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(i))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=t.exec(e.replace(/[\(\)]/g,""));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(o){return t(r(o.stack.split("\n"),function(e){return!!e.match(i)},this),function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),o=this.extractLocation(r.pop()),i=r.join(" ")||void 0,a=n(["eval","<anonymous>"],o[0])>-1?void 0:o[0];return new e(i,void 0,a,o[1],o[2],t)},this)},parseFFOrSafari:function(n){return t(r(n.stack.split("\n"),function(e){return!e.match(a)},this),function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var r=t.split("@"),n=this.extractLocation(r.pop()),o=r.join("@")||void 0;return new e(o,void 0,n[0],n[1],n[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],i=2,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push(new e(void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],i=0,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push(new e(s[3]||void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera11:function(n){return t(r(n.stack.split("\n"),function(e){return!!e.match(o)&&!e.match(/^Error created at/)},this),function(t){var r,n=t.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(r=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e(a,s,o[0],o[1],o[2],t)},this)}}})},{stackframe:103}],92:[function(e,t,r){function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=w(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function o(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function i(e,t,r){if(t)e.call(r);else for(var n=e.length,o=h(e,n),i=0;i<n;++i)o[i].call(r)}function a(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,i=h(e,o),a=0;a<o;++a)i[a].call(r,n)}function s(e,t,r,n,o){if(t)e.call(r,n,o);else for(var i=e.length,a=h(e,i),s=0;s<i;++s)a[s].call(r,n,o)}function u(e,t,r,n,o,i){if(t)e.call(r,n,o,i);else for(var a=e.length,s=h(e,a),u=0;u<a;++u)s[u].call(r,n,o,i)}function c(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,i=h(e,o),a=0;a<o;++a)i[a].apply(r,n)}function p(e,t,r,n){var i,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if(a=e._events,a?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]):(a=e._events=w(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=o(e))&&i>0&&s.length>i){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else s=a[t]=r,++e._eventsCount;return e}function l(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=E.call(l,n);return o.listener=r,n.wrapFn=o,o}function f(e,t,r){var n=e._events;if(!n)return[];var o=n[t];return o?"function"==typeof o?r?[o.listener||o]:[o]:r?y(o):h(o,o.length):[]}function g(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function m(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function v(e){var t=function(){};return t.prototype=e,new t}function _(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r}function b(e){var t=this;return function(){return t.apply(e,arguments)}}var w=Object.create||v,S=Object.keys||_,E=Function.prototype.bind||b;t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0;var T,D=10;try{var O={};Object.defineProperty&&Object.defineProperty(O,"x",{value:0}),T=0===O.x}catch(e){T=!1}T?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(e){if("number"!=typeof e||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');D=e}}):n.defaultMaxListeners=D,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return o(this)},n.prototype.emit=function(e){var t,r,n,o,p,l,d="error"===e;if(l=this._events)d=d&&null==l.error;else if(!d)return!1;if(d){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var f=new Error('Unhandled "error" event. ('+t+")");throw f.context=t,f}if(!(r=l[e]))return!1;var g="function"==typeof r;switch(n=arguments.length){case 1:i(r,g,this);break;case 2:a(r,g,this,arguments[1]);break;case 3:s(r,g,this,arguments[1],arguments[2]);break;case 4:u(r,g,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(n-1),p=1;p<n;p++)o[p-1]=arguments[p];c(r,g,this,o)}return!0},n.prototype.addListener=function(e,t){return p(this,e,t,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(e,t){return p(this,e,t,!0)},n.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,d(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,d(this,e,t)),this},n.prototype.removeListener=function(e,t){var r,n,o,i,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=w(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():m(r,o),1===r.length&&(n[e]=r[0]),n.removeListener&&this.emit("removeListener",e,a||t)}return this},n.prototype.removeAllListeners=function(e){var t,r,n;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=w(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=w(null):delete r[e]),this;if(0===arguments.length){var o,i=S(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=w(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},n.prototype.listeners=function(e){return f(this,e,!0)},n.prototype.rawListeners=function(e){return f(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},n.prototype.listenerCount=g,n.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],93:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){h&&g&&(h=!1,g.length?m=g.concat(m):y=-1,m.length&&u())}function u(){if(!h){var e=i(s);h=!0;for(var t=m.length;t;){for(g=m,m=[];++y<t;)g&&g[y].run();y=-1,t=m.length}g=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function p(){}var l,d,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var g,m=[],h=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new c(e,t)),1!==m.length||h||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],94:[function(e,t,r){function n(){this._array=[],this._set=Object.create(null)}var o=e("./util"),i=Object.prototype.hasOwnProperty;n.fromArray=function(e,t){for(var r=new n,o=0,i=e.length;o<i;o++)r.add(e[o],t);return r},n.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(e,t){var r=o.toSetString(e),n=i.call(this._set,r),a=this._array.length;n&&!t||this._array.push(e),n||(this._set[r]=a)},n.prototype.has=function(e){var t=o.toSetString(e);return i.call(this._set,t)},n.prototype.indexOf=function(e){var t=o.toSetString(e);if(i.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},n.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},n.prototype.toArray=function(){return this._array.slice()},r.ArraySet=n},{"./util":100}],95:[function(e,t,r){function n(e){return e<0?1+(-e<<1):0+(e<<1)}function o(e){var t=1==(1&e),r=e>>1;return t?-r:r}var i=e("./base64");r.encode=function(e){var t,r="",o=n(e);do{t=31&o,o>>>=5,o>0&&(t|=32),r+=i.encode(t)}while(o>0);return r},r.decode=function(e,t,r){var n,a,s=e.length,u=0,c=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(32&a),a&=31,u+=a<<c,c+=5}while(n);r.value=o(u),r.rest=t}},{"./base64":96}],96:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");r.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},r.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},{}],97:[function(e,t,r){function n(e,t,o,i,a,s){var u=Math.floor((t-e)/2)+e,c=a(o,i[u],!0);return 0===c?u:c>0?t-u>1?n(u,t,o,i,a,s):s==r.LEAST_UPPER_BOUND?t<i.length?t:-1:u:u-e>1?n(e,u,o,i,a,s):s==r.LEAST_UPPER_BOUND?u:e<0?-1:e}r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.search=function(e,t,o,i){if(0===t.length)return-1;var a=n(-1,t.length,e,t,o,i||r.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(t[a],t[a-1],!0);)--a;return a}},{}],98:[function(e,t,r){function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function o(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,r,a){if(r<a){var s=o(r,a),u=r-1;n(e,s,a);for(var c=e[a],p=r;p<a;p++)t(e[p],c)<=0&&(u+=1,n(e,u,p));n(e,u+1,p);var l=u+1;i(e,t,r,l-1),i(e,t,l+1,a)}}r.quickSort=function(e,t){i(e,t,0,e.length-1)}},{}],99:[function(e,t,r){function n(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new a(t):new o(t)}function o(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=s.getArg(t,"version"),n=s.getArg(t,"sources"),o=s.getArg(t,"names",[]),i=s.getArg(t,"sourceRoot",null),a=s.getArg(t,"sourcesContent",null),u=s.getArg(t,"mappings"),p=s.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);n=n.map(String).map(s.normalize).map(function(e){return i&&s.isAbsolute(i)&&s.isAbsolute(e)?s.relative(i,e):e}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(n,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=u,this.file=p}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=s.getArg(t,"version"),o=s.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new c,this._names=new c;var i={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=s.getArg(e,"offset"),r=s.getArg(t,"line"),o=s.getArg(t,"column");if(r<i.line||r===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new n(s.getArg(e,"map"))}})}var s=e("./util"),u=e("./binary-search"),c=e("./array-set").ArraySet,p=e("./base64-vlq"),l=e("./quick-sort").quickSort;n.fromSourceMap=function(e){return o.fromSourceMap(e)},n.prototype._version=3,n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),n.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},n.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.prototype.eachMapping=function(e,t,r){var o,i=t||null,a=r||n.GENERATED_ORDER;switch(a){case n.GENERATED_ORDER:o=this._generatedMappings;break;case n.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=s.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},n.prototype.allGeneratedPositionsFor=function(e){var t=s.getArg(e,"line"),r={source:s.getArg(e,"source"),originalLine:t,originalColumn:s.getArg(e,"column",0)};if(null!=this.sourceRoot&&(r.source=s.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var n=[],o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)n.push({line:s.getArg(i,"generatedLine",null),column:s.getArg(i,"generatedColumn",null),lastColumn:s.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var c=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==c;)n.push({line:s.getArg(i,"generatedLine",null),column:s.getArg(i,"generatedColumn",null),lastColumn:s.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return n},r.SourceMapConsumer=n,o.prototype=Object.create(n.prototype),o.prototype.consumer=n,o.fromSourceMap=function(e){var t=Object.create(o.prototype),r=t._names=c.fromArray(e._names.toArray(),!0),n=t._sources=c.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),u=t.__generatedMappings=[],p=t.__originalMappings=[],d=0,f=a.length;d<f;d++){var g=a[d],m=new i;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=n.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=r.indexOf(g.name)),p.push(m)),u.push(m)}return l(t.__originalMappings,s.compareByOriginalPositions),t},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?s.join(this.sourceRoot,e):e},this)}}),o.prototype._parseMappings=function(e,t){for(var r,n,o,a,u,c=1,d=0,f=0,g=0,m=0,h=0,y=e.length,v=0,_={},b={},w=[],S=[];v<y;)if(";"===e.charAt(v))c++,v++,d=0;else if(","===e.charAt(v))v++;else{for(r=new i,r.generatedLine=c,a=v;a<y&&!this._charIsMappingSeparator(e,a);a++);if(n=e.slice(v,a),o=_[n])v+=n.length;else{for(o=[];v<a;)p.decode(e,v,b),u=b.value,v=b.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");_[n]=o}r.generatedColumn=d+o[0],d=r.generatedColumn,o.length>1&&(r.source=m+o[1],m+=o[1],r.originalLine=f+o[2],f=r.originalLine,r.originalLine+=1,r.originalColumn=g+o[3],g=r.originalColumn,o.length>4&&(r.name=h+o[4],h+=o[4])),S.push(r),"number"==typeof r.originalLine&&w.push(r)}l(S,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,l(w,s.compareByOriginalPositions),this.__originalMappings=w},o.prototype._findMapping=function(e,t,r,n,o,i){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return u.search(e,t,o,i)},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(e,"bias",n.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===t.generatedLine){var i=s.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=s.join(this.sourceRoot,i)));var a=s.getArg(o,"name",null);return null!==a&&(a=this._names.at(a)),{source:i,line:s.getArg(o,"originalLine",null),column:s.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},o.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=s.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!r.path||"/"==r.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(e){var t=s.getArg(e,"source");if(null!=this.sourceRoot&&(t=s.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var r={source:t,originalLine:s.getArg(e,"line"),originalColumn:s.getArg(e,"column")},o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(e,"bias",n.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===r.source)return{line:s.getArg(i,"generatedLine",null),column:s.getArg(i,"generatedColumn",null),lastColumn:s.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},r.BasicSourceMapConsumer=o,a.prototype=Object.create(n.prototype),a.prototype.constructor=n,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),a.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},r=u.search(t,this._sections,function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r],o=n.consumer.sourceContentFor(e,!0);if(o)return o}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer.sources.indexOf(s.getArg(e,"source"))){var n=r.consumer.generatedPositionFor(e);if(n){return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},a.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],o=n.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],u=n.consumer._sources.at(a.source);null!==n.consumer.sourceRoot&&(u=s.join(n.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var c=n.consumer._names.at(a.name);this._names.add(c),c=this._names.indexOf(c);var p={source:u,generatedLine:a.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(n.generatedOffset.generatedLine===a.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(p),"number"==typeof p.originalLine&&this.__originalMappings.push(p)}l(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),l(this.__originalMappings,s.compareByOriginalPositions)},r.IndexedSourceMapConsumer=a},{"./array-set":94,"./base64-vlq":95,"./binary-search":97,"./quick-sort":98,"./util":100}],100:[function(e,t,r){function n(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(y);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var t=e,n=o(e);if(n){if(!n.path)return e;t=n.path}for(var a,s=r.isAbsolute(t),u=t.split(/\/+/),c=0,p=u.length-1;p>=0;p--)a=u[p],"."===a?u.splice(p,1):".."===a?c++:c>0&&(""===a?(u.splice(p+1,c),c=0):(u.splice(p,2),c--));return t=u.join("/"),""===t&&(t=s?"/":"."),n?(n.path=t,i(n)):t}function s(e,t){""===e&&(e="."),""===t&&(t=".");var r=o(t),n=o(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),i(r);if(r||t.match(v))return t;if(n&&!n.host&&!n.path)return n.host=t,i(n);var s="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=s,i(n)):s}function u(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}function c(e){return e}function p(e){return d(e)?"$"+e:e}function l(e){return d(e)?e.slice(1):e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function f(e,t,r){var n=e.source-t.source;return 0!==n?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)||r?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:(n=e.generatedLine-t.generatedLine,0!==n?n:e.name-t.name)}function g(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)||r?n:0!==(n=e.source-t.source)?n:0!==(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,0!==n?n:e.name-t.name)}function m(e,t){return e===t?0:e>t?1:-1}function h(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=m(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn,0!==r?r:m(e.name,t.name))}r.getArg=n;var y=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,v=/^data:.+\,.+$/;r.urlParse=o,r.urlGenerate=i,r.normalize=a,r.join=s,r.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(y)},r.relative=u;var _=function(){return!("__proto__"in Object.create(null))}();r.toSetString=_?c:p,r.fromSetString=_?c:l,r.compareByOriginalPositions=f,r.compareByGeneratedPositionsDeflated=g,r.compareByGeneratedPositionsInflated=h},{}],101:[function(t,r,n){!function(t,o){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],o):"object"==typeof n?r.exports=o():t.StackFrame=o()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}function n(e){if(e instanceof Object)for(var r=0;r<u.length;r++)e.hasOwnProperty(u[r])&&void 0!==e[u[r]]&&this["set"+t(u[r])](e[u[r]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],a=["fileName","functionName","source"],s=["args"],u=o.concat(i,a,s);n.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof n)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new n(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var c=0;c<o.length;c++)n.prototype["get"+t(o[c])]=r(o[c]),
n.prototype["set"+t(o[c])]=function(e){return function(t){this[e]=Boolean(t)}}(o[c]);for(var p=0;p<i.length;p++)n.prototype["get"+t(i[p])]=r(i[p]),n.prototype["set"+t(i[p])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(i[p]);for(var l=0;l<a.length;l++)n.prototype["get"+t(a[l])]=r(a[l]),n.prototype["set"+t(a[l])]=function(e){return function(t){this[e]=String(t)}}(a[l]);return n})},{}],102:[function(t,r,n){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("stack-generator",["stackframe"],i):"object"==typeof n?r.exports=i(t("stackframe")):o.StackGenerator=i(o.StackFrame)}(this,function(e){return{backtrace:function(t){var r=[],n=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(n=t.maxStackSize);for(var o=arguments.callee;o&&r.length<n;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:i})):r.push(new e({args:i}));try{o=o.caller}catch(e){break}}return r}}})},{stackframe:101}],103:[function(t,r,n){!function(t,o){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],o):"object"==typeof n?r.exports=o():t.StackFrame=o()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,r,n,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==r&&this.setFileName(r),void 0!==n&&this.setLineNumber(n),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t})},{}],104:[function(t,r,n){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("stacktrace-gps",["source-map","stackframe"],i):"object"==typeof n?r.exports=i(t("source-map/lib/source-map-consumer"),t("stackframe")):o.StackTraceGPS=i(o.SourceMap||o.sourceMap,o.StackFrame)}(this,function(e,t){"use strict";function r(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.open("get",e),n.onerror=r,n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?t(n.responseText):r(new Error("HTTP status: "+n.status+" retrieving "+e)))},n.send()})}function n(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function i(e,t){for(var r,n=/function\s+([^(]*?)\s*\(([^)]*)\)/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,a=e.split("\n"),s="",u=Math.min(t,20),c=0;c<u;++c){var p=a[t-c-1],l=p.indexOf("//");if(l>=0&&(p=p.substr(0,l)),p){if(s=p+s,(r=o.exec(s))&&r[1])return r[1];if((r=n.exec(s))&&r[1])return r[1];if((r=i.exec(s))&&r[1])return r[1]}}}function a(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function s(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function c(r,n,o){return new Promise(function(i,a){var s=new e.SourceMapConsumer(n),u=s.originalPositionFor({line:r.lineNumber,column:r.columnNumber});if(u.source){var c=s.sourceContentFor(u.source);c&&(o[u.source]=c),i(new t(u.name||r.functionName,r.args,u.source,u.line,u.column))}else a(new Error("Could not get original source for given stackframe and source map"))})}return function e(p){if(!(this instanceof e))return new e(p);p=p||{},this.sourceCache=p.sourceCache||{},this.ajax=p.ajax||r,this._atob=p.atob||n,this._get=function(e){return new Promise(function(t,r){var n="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(p.offline&&!n)r(new Error("Cannot make network requests in offline mode"));else if(n){var o=/^data:application\/json;([\w=:"-]+;)*base64,/,i=e.match(o);if(i){var a=i[0].length,s=e.substr(a),u=this._atob(s);this.sourceCache[e]=u,t(u)}else r(new Error("The encoding of the inline sourcemap is not supported"))}else{var c=this.ajax(e,{method:"get"});this.sourceCache[e]=c,c.then(t,r)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,r){this.getMappedLocation(e).then(function(e){function r(){t(e)}this.findFunctionName(e).then(t,r).catch(r)}.bind(this),r)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(r,n){s(e),this._get(e.fileName).then(function(n){var o=e.lineNumber,a=e.columnNumber,s=i(n,o);r(s?new t(s,e.args,e.fileName,o,a):e)},n).catch(n)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,r){a(),s(e);var n=this.sourceCache,i=e.fileName;this._get(i).then(function(a){var s=u(a),p="data:"===s.substr(0,5),l=i.substring(0,i.lastIndexOf("/")+1);"/"===s[0]||p||/^https?:\/\/|^\/\//i.test(s)||(s=l+s),this._get(s).then(function(r){"string"==typeof r&&(r=o(r.replace(/^\)\]\}'/,""))),void 0===r.sourceRoot&&(r.sourceRoot=l),c(e,r,n).then(t).catch(function(){t(e)})},r).catch(r)}.bind(this),r).catch(r)}.bind(this))}}})},{"source-map/lib/source-map-consumer":99,stackframe:103}],105:[function(t,r,n){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],i):"object"==typeof n?r.exports=i(t("error-stack-parser"),t("stack-generator"),t("stacktrace-gps")):o.StackTrace=i(o.ErrorStackParser,o.StackGenerator,o.StackTraceGPS)}(this,function(e,t,r){function n(e,t){var r={};return[e,t].forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}),r}function o(e){return e.stack||e["opera#sourceloc"]}function i(e,t){return"function"==typeof t?e.filter(t):e}var a={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},s=function(){try{throw new Error}catch(e){return e}};return{get:function(e){var t=s();return o(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(r){r=n(a,r);var u=s();return i(o(u)?e.parse(u):t.backtrace(r),r.filter)},fromError:function(t,o){o=n(a,o);var s=new r(o);return new Promise(function(r){var n=i(e.parse(t),o.filter);r(Promise.all(n.map(function(e){return new Promise(function(t){function r(){t(e)}s.pinpoint(e).then(t,r).catch(r)})})))}.bind(this))},generateArtificially:function(e){e=n(a,e);var r=t.backtrace(e);return"function"==typeof e.filter&&(r=r.filter(e.filter)),Promise.resolve(r)},instrument:function(e,t,r,n){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,r).catch(r),e.apply(n||this,arguments)}catch(e){throw o(e)&&this.fromError(e).then(t,r).catch(r),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,r){return new Promise(function(n,o){var i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<400?n(i.responseText):o(new Error("POST to "+t+" failed with status: "+i.status)))},i.open("post",t),i.setRequestHeader("Content-Type","application/json");var a={stack:e};void 0!==r&&(a.message=r),i.send(JSON.stringify(a))})}}})},{"error-stack-parser":91,"stack-generator":102,"stacktrace-gps":104}],106:[function(e,t,r){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},t.exports=n},{}],107:[function(e,t,r){function n(){}function o(e){if(!m(e))return e;var t=[];for(var r in e)i(t,r,e[r]);return t.join("&")}function i(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){i(e,t,r)});else if(m(r))for(var n in r)i(e,t+"["+n+"]",r[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function a(e){for(var t,r,n={},o=e.split("&"),i=0,a=o.length;i<a;++i)t=o[i],r=t.indexOf("="),-1==r?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function s(e){for(var t,r,n,o,i=e.split(/\r?\n/),a={},s=0,u=i.length;s<u;++s)r=i[s],-1!==(t=r.indexOf(":"))&&(n=r.slice(0,t).toLowerCase(),o=_(r.slice(t+1)),a[n]=o);return a}function u(e){return/[\/+]json($|[^-\w])/.test(e)}function c(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new c(r)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",t);var n;try{r._isResponseOK(t)||(n=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){n=e}n?(n.original=e,n.response=t,n.status=t.status,r.callback(n,t)):r.callback(null,t)})}function l(e,t,r){var n=v("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}var d;"undefined"!=typeof window?d=window:"undefined"!=typeof self?d=self:(console.warn("Using browser-only version of superagent in non-browser environment"),d=this);var f=e("component-emitter"),g=e("./request-base"),m=e("./is-object"),h=e("./response-base"),y=e("./agent-base"),v=r=t.exports=function(e,t){return"function"==typeof t?new r.Request("GET",e).end(t):1==arguments.length?new r.Request("GET",e):new r.Request(e,t)};r.Request=p,v.getXHR=function(){if(!(!d.XMLHttpRequest||d.location&&"file:"==d.location.protocol&&d.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var _="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};v.serializeObject=o,v.parseString=a,v.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},h(c.prototype),c.prototype._parseBody=function(e){var t=v.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&u(this.type)&&(t=v.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},c.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=t,o.url=r,o},v.Response=c,f(p.prototype),g(p.prototype),p.prototype.type=function(e){return this.set("Content-Type",v.types[e]||e),this},p.prototype.accept=function(e){return this.set("Accept",v.types[e]||e),this},p.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var n=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,n)},p.prototype.query=function(e){return"string"!=typeof e&&(e=o(e)),e&&this._query.push(e),this},p.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},p.prototype._getFormData=function(){return this._formData||(this._formData=new d.FormData),this._formData},p.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},p.prototype.buffer=p.prototype.ca=p.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},p.prototype.pipe=p.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},p.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},p.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||n,this._finalizeQueryString(),this._end()},p.prototype._end=function(){var e=this,t=this.xhr=v.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var o=this._header["content-type"],i=this._serializer||v.serialize[o?o.split(";")[0]:""];!i&&u(o)&&(i=v.serialize["application/json"]),i&&(r=i(r))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},v.agent=function(){return new y},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){y.prototype[e.toLowerCase()]=function(t,r){var n=new v.Request(e,t);return this._setDefaults(n),r&&n.end(r),n}}),y.prototype.del=y.prototype.delete,v.get=function(e,t,r){var n=v("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},v.head=function(e,t,r){var n=v("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},v.options=function(e,t,r){var n=v("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},v.del=l,v.delete=l,v.patch=function(e,t,r){var n=v("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},v.post=function(e,t,r){var n=v("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},v.put=function(e,t,r){var n=v("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},{"./agent-base":106,"./is-object":108,"./request-base":109,"./response-base":110,"component-emitter":90}],108:[function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e}t.exports=n},{}],109:[function(e,t,r){"use strict";function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}var i=e("./is-object");t.exports=n,n.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(e){return this._parser=e,this},n.prototype.responseType=function(e){return this._responseType=e,this},n.prototype.serialize=function(e){return this._serializer=e,this},n.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},n.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var a=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];n.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~a.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,n){r?t(r):e(n)})})}return this._fullfilledPromise.then(e,t)},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype.use=function(e){return e(this),this},n.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},n.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},n.prototype.get=function(e){return this._header[e.toLowerCase()]},n.prototype.getHeader=n.prototype.get,n.prototype.set=function(e,t){if(i(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var n in t)this.field(e,t[n]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},n.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},n.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},n.prototype.redirects=function(e){return this._maxRedirects=e,this},n.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(e){var t=i(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},n.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},n.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},n.prototype._appendQueryString=function(){console.trace("Unsupported")},n.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},n.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":108}],110:[function(e,t,r){"use strict";function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}var i=e("./utils");t.exports=n,n.prototype.get=function(e){return this.header[e.toLowerCase()]},n.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var r=i.params(t);for(var n in r)this[n]=r[n];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},n.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},{"./utils":111}],111:[function(e,t,r){"use strict";r.type=function(e){return e.split(/ *; */).shift()},r.params=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(e[n]=o),e},{})},r.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e},{})},r.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},{}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../log/category/CategoryService"),o=e("../log/LoggerOptions"),i=e("../utils/DataStructures"),a=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(t){void 0===t&&(t="all");var r=new i.StringBuilder,n=e._getCategoryService();e._getCategories(t).forEach(function(t){e._processCategory(n,t,r,0)}),console.log(r.toString())},e.prototype.change=function(t){var r=e._getCategoryService(),n=e._getCategories(t.category),i=null,a=null,s=null,u=null,c=null,p=function(e){null!==c&&(c+=", "),null===c?c=e:c+=e};p("recursive="+t.recursive),"string"==typeof t.logLevel&&(i=o.LogLevel.fromString(t.logLevel),p("logLevel="+t.logLevel)),"string"==typeof t.logFormat&&(a=o.DateFormatEnum.fromString(t.logFormat),p("logFormat="+t.logFormat)),"boolean"==typeof t.showCategoryName&&(s=t.showCategoryName,p("showCategoryName="+t.showCategoryName)),"boolean"==typeof t.showTimestamp&&(u=t.showTimestamp,p("showTimestamp="+t.showTimestamp));var l=function(e){var t=r.getCategorySettings(e);null!==t&&(null!==i&&(t.logLevel=i),null!==a&&(t.logFormat.dateFormat.formatEnum=a),null!==u&&(t.logFormat.showTimeStamp=u),null!==s&&(t.logFormat.showCategoryName=s))};n.forEach(function(r){return e._applyToCategory(r,t.recursive,l)}),console.log("Applied changes: "+c+" to categories '"+t.category+"'.")},e.prototype.reset=function(t){void 0===t&&(t="all");var r=e._getCategoryService(),n=function(e){var t=r.getCategorySettings(e),n=r.getOriginalCategorySettings(e);null!==t&&null!==n&&(t.logLevel=n.logLevel,t.logFormat.dateFormat.formatEnum=n.logFormat.dateFormat.formatEnum,t.logFormat.showTimeStamp=n.logFormat.showTimeStamp,t.logFormat.showCategoryName=n.logFormat.showCategoryName)};e._getCategories(t).forEach(function(t){return e._applyToCategory(t,!0,n)}),console.log("Applied reset to category: "+t+".")},e._processCategory=function(t,r,n,i){var a=t.getCategorySettings(r);if(null!==a){if(n.append("  "+r.id+": "),i>0)for(var s=0;s<i;s++)n.append("  ");n.append(r.name+" ("+o.LogLevel[a.logLevel].toString()+"@"+o.LoggerType[a.loggerType].toString()+")\n"),r.children.length>0&&r.children.forEach(function(r){e._processCategory(t,r,n,i+1)})}},e._applyToCategory=function(t,r,n){n(t),r&&t.children.forEach(function(t){e._applyToCategory(t,r,n)})},e._getCategoryService=function(){return n.CategoryServiceImpl.getInstance()},e._getCategories=function(t){var r=e._getCategoryService(),n=[];if("all"===t)n=r.getRootCategories();else{var o=r.getCategoryById(t);if(null===o)throw new Error("Failed to find category with id "+t);n.push(o)}return n},e._help='\n  help(): void\n    ** Shows this help.\n\n  example(): void\n    ** Shows an example on how to use this.\n\n  showSettings(id: number | "all" = "all"): void\n    ** Shows settings for a specific category, or for all. The id of categories can be found by calling this method without parameter.\n\n  change(settings: CategoryServiceControlSettings): void\n    ** Changes the current settings for one or all categories.\n    **\n       CategoryServiceControlSettings, properties of object:\n         category: number | "all"\n           ** Apply to specific category, or "all".\n           ** Required\n\n         recursive: boolean\n           ** Apply to child categories (true) or not.\n           ** Required\n\n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n\n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n\n         showTimestamp: boolean | undefined\n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n\n         showCategoryName: boolean | undefined\n           ** Whether to show the category name, undefined will not change the setting.\n           ** Optional\n\n   reset(id: number | "all"): void\n     ** Resets everything to original values, for one specific or for all categories.\n',e._example='\n  Examples:\n    change({category: "all", recursive:true, logLevel: "Info"})\n      ** Change loglevel to Info for all categories, apply to child categories as well.\n\n    change({category: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for category 1, do not recurse.\n\n    change({category: "all", recursive:true, logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showCategoryName:false})\n      ** Change loglevel to Debug for all categories, apply format, do not show timestamp and category names - recursively to child categories.\n\n',e}();r.CategoryServiceControlImpl=a},{"../log/LoggerOptions":115,"../log/category/CategoryService":124,"../utils/DataStructures":135}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../log/LoggerOptions"),o=e("../log/standard/LFService"),i=e("../utils/DataStructures"),a=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.listFactories=function(){var t=e._getRuntimeSettingsLoggerFactories(),r=new i.StringBuilder;r.appendLine("Registered LoggerFactories (index / name)");for(var n=0;n<t.length;n++){var o=t[n];r.append("  "+n).append(": "+o.getName()+"\n")}console.log(r.toString())},e.prototype.showSettings=function(t){void 0===t&&(t="all");var r=[];if("all"===t){var o=0;e._getRuntimeSettingsLoggerFactories().forEach(function(e){r.push(new i.TuplePair(o++,e))})}else{var a=e._getRuntimeSettingsLoggerFactories();if(!(t>=0&&t<a.length))throw new Error("Requested number: "+t+" was not found.");r.push(new i.TuplePair(t,a[t]))}for(var s=0,u=r;s<u.length;s++){var c=u[s];console.log("  LoggerFactory: "+c.y.getName()+" (id="+c.x+")");for(var p=c.y.getLogGroupRuntimeSettings(),l=0;l<p.length;l++){var d=p[l];console.log("     LogGroup: (id="+l+")"),console.log("       RegExp: "+d.logGroupRule.regExp.source),console.log("       Level: "+n.LogLevel[d.level].toString()),console.log("       LoggerType: "+n.LoggerType[d.loggerType].toString())}}},e.prototype.reset=function(t){void 0===t&&(t="all");var r=e._getRuntimeSettingsLoggerFactories(),n=[];"all"===t?n=r:t>=0&&t<r.length&&n.push(r[t]),n.forEach(function(e){console.log("Reset all settings for factory "+t),new s(e).reset()})},e.prototype.getLoggerFactoryControl=function(t){var r=e._getRuntimeSettingsLoggerFactories();if(t>=0&&t<r.length)return new s(r[t])
;throw new Error("idFactory is invalid (less than 0) or non existing id.")},e._getRuntimeSettingsLoggerFactories=function(){return e._getSettings().getRuntimeSettingsForLoggerFactories()},e._getSettings=function(){return o.LFService.getRuntimeSettings()},e._help='\n  help(): void\n    ** Shows this help.\n\n  listFactories(): void\n    ** List all registered LoggerFactories with associated log groups with respective ids (ids can be used to target a factory and/or group).\n\n  showSettings(idFactory: number | "all"): void\n    ** Show log group settings for idFactory (use listFactories to find id for a LoggerFactory). If idFactory is "all" shows all factories.\n\n  getLoggerFactoryControl(idFactory: number): LoggerFactoryControl\n    ** Return LoggerFactoryControl when found for given idFactory or throws Error if invalid or null, get the id by using listFactories()\n\n  reset(idFactory: number | "all"): void\n    ** Resets given factory or all factories back to original values.\n',e}();r.LoggerControlImpl=a;var s=function(){function e(e){this._settings=e}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(e){void 0===e&&(e="all");var t=new i.StringBuilder,r=this._settings.getLogGroupRuntimeSettings();t.appendLine("Registered LogGroups (index / expression)");for(var o=0;o<r.length;o++){var a=r[o];t.appendLine("  "+o+": "+a.logGroupRule.regExp.source+", logLevel="+n.LogLevel[a.level].toString()+", showTimestamp="+a.logFormat.showTimeStamp+", showLoggerName="+a.logFormat.showLoggerName+", format="+n.DateFormatEnum[a.logFormat.dateFormat.formatEnum].toString())}console.log(t.toString())},e.prototype.change=function(e){var t=this._getLogGroupRunTimeSettingsFor(e.group),r=null,o=null,i=null,a=null,s=null,u=function(e){null!==s&&(s+=", "),null===s?s=e:s+=e};"string"==typeof e.logLevel&&(r=n.LogLevel.fromString(e.logLevel),u("logLevel="+e.logLevel)),"string"==typeof e.logFormat&&(o=n.DateFormatEnum.fromString(e.logFormat),u("logFormat="+e.logFormat)),"boolean"==typeof e.showLoggerName&&(i=e.showLoggerName,u("showLoggerName="+e.showLoggerName)),"boolean"==typeof e.showTimestamp&&(a=e.showTimestamp,u("showTimestamp="+e.showTimestamp)),t.forEach(function(e){null!==r&&(e.level=r),null!==o&&(e.logFormat.dateFormat.formatEnum=o),null!==a&&(e.logFormat.showTimeStamp=a),null!==i&&(e.logFormat.showLoggerName=i)}),console.log("Applied changes: "+s+" to log groups '"+e.group+"'.")},e.prototype.reset=function(e){void 0===e&&(e="all");for(var t=this._getLogGroupRunTimeSettingsFor(e),r=0,n=t;r<n.length;r++){var o=n[r];o.level=o.logGroupRule.level,o.logFormat.showTimeStamp=o.logGroupRule.logFormat.showTimeStamp,o.logFormat.showLoggerName=o.logGroupRule.logFormat.showLoggerName,o.logFormat.dateFormat.formatEnum=o.logGroupRule.logFormat.dateFormat.formatEnum}console.log("Reset all settings for group "+e)},e.prototype._getLogGroupRunTimeSettingsFor=function(e){var t=[];return"all"===e?t=this._settings.getLogGroupRuntimeSettings():(this._checkIndex(e),t.push(this._settings.getLogGroupRuntimeSettings()[e])),t},e.prototype._checkIndex=function(e){if(e<0||e>=this._settings.getLogGroupRuntimeSettings().length)throw new Error("Invalid index, use listLogGroups to find out a valid one.")},e._help='\n  help(): void\n    ** Shows this help.\n\n  example(): void\n    ** Shows an example of usage.\n\n  showSettings(id: number | "all"): void\n    ** Prints settings for given group id, "all" for all group.\n\n  change(settings: LogGroupControlSettings): void\n    ** Changes the current settings for one or all log groups.\n    **\n       LogGroupControlSettings, properties of object:\n         group: number | "all"\n           ** Apply to specific group, or "all".\n           ** Required\n\n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n\n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n\n         showTimestamp: boolean | undefined\n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n\n         showLoggerName: boolean | undefined\n           ** Whether to show the logger name, undefined will not change the setting.\n           ** Optional\n\n  reset(id: number | "all"): void\n    ** Resets everything to original values, for one specific or for all groups.\n\n  help():\n    ** Shows this help.\n',e._example='\n  Examples:\n    change({group: "all", logLevel: "Info"})\n      ** Change loglevel to Info for all groups.\n\n    change({group: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for group 1 to Warn.\n\n    change({group: "all", logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showLoggerName:false})\n      ** Change loglevel to Debug for all groups, apply format, do not show timestamp and logger names.\n',e}()},{"../log/LoggerOptions":115,"../log/standard/LFService":128,"../utils/DataStructures":135}],114:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../log/category/CategoryService"),o=e("../log/LoggerOptions"),i=e("../utils/MessageUtils"),a=function(){function e(){}return e.register=function(){if(!e.registered){e.registered=!0;var t=function(t){var r=t.data;null!==r&&e.processMessageFromExtension(r)};"undefined"!=typeof window&&(window.removeEventListener("message",t),window.addEventListener("message",t))}},e.processMessageFromExtension=function(t){if(e.registered&&"tsl-extension"===t.from){var r=t.data;switch(r.type){case"register":e.enableExtensionIntegration();break;case"request-change-loglevel":var n=r.value,o=e.applyLogLevel(n.categoryId,n.logLevel,n.recursive);o.length>0&&e.sendCategoriesRuntimeUpdateMessage(o);break;default:console.log("Unknown command to process message from extension, command was: "+r.type)}}},e.sendCategoryLogMessage=function(t){if(e.registered){var r=t.categories.map(function(e){return e.id}),n={type:"log-message",value:{categories:r,errorAsStack:t.errorAsStack,formattedMessage:i.MessageFormatUtils.renderDefaultMessage(t,!1),logLevel:o.LogLevel[t.level].toString(),message:t.messageAsString,resolvedErrorMessage:t.isResolvedErrorMessage}},a={data:n,from:"tsl-logging"};e.sendMessage(a)}},e.sendCategoriesRuntimeUpdateMessage=function(t){if(e.registered){var r=n.CategoryServiceImpl.getInstance(),i={categories:Array()};t.forEach(function(e){var t=r.getCategorySettings(e);null!=t&&i.categories.push({id:e.id,logLevel:o.LogLevel[t.logLevel].toString()})});var a={type:"categories-rt-update",value:i},s={data:a,from:"tsl-logging"};e.sendMessage(s)}},e.sendRootCategoriesToExtension=function(){if(e.registered){var t=n.CategoryServiceImpl.getInstance().getRootCategories().map(function(t){return e.getCategoryAsJSON(t)}),r={type:"root-categories-tree",value:t},o={data:r,from:"tsl-logging"};e.sendMessage(o)}},e.getCategoryAsJSON=function(t){return{children:t.children.map(function(t){return e.getCategoryAsJSON(t)}),id:t.id,logLevel:o.LogLevel[t.logLevel].toString(),name:t.name,parentId:null!=t.parent?t.parent.id:null}},e.applyLogLevel=function(t,r,i){var a=[],s=n.CategoryServiceImpl.getInstance().getCategoryById(t);return null!=s?e._applyLogLevelRecursive(s,o.LogLevel.fromString(r),i,a):console.log("Could not change log level, failed to find category with id: "+t),a},e._applyLogLevelRecursive=function(t,r,o,i){var a=n.CategoryServiceImpl.getInstance().getCategorySettings(t);null!=a&&(a.logLevel=r,i.push(t),o&&t.children.forEach(function(t){e._applyLogLevelRecursive(t,r,o,i)}))},e.getAllCategories=function(){var e=[],t=function(e,r){r.push(e),e.children.forEach(function(e){t(e,r)})};return n.CategoryServiceImpl.getInstance().getRootCategories().forEach(function(r){t(r,e)}),e},e.sendMessage=function(t){e.registered&&"undefined"!=typeof window&&window.postMessage(t,"*")},e.enableExtensionIntegration=function(){if(e.registered){n.CategoryServiceImpl.getInstance().enableExtensionIntegration(),e.sendRootCategoriesToExtension();var t=e.getAllCategories();e.sendCategoriesRuntimeUpdateMessage(t)}},e.registered=!1,e}();r.ExtensionHelper=a},{"../log/LoggerOptions":115,"../log/category/CategoryService":124,"../utils/MessageUtils":137}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal"}(r.LogLevel||(r.LogLevel={})),function(e){function t(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;default:throw new Error("Unsupported value for conversion: "+t)}}e.fromString=t}(r.LogLevel||(r.LogLevel={}));!function(e){e[e.Console=0]="Console",e[e.MessageBuffer=1]="MessageBuffer",e[e.Custom=2]="Custom"}(r.LoggerType||(r.LoggerType={}));var n;!function(e){e[e.Default=0]="Default",e[e.YearMonthDayTime=1]="YearMonthDayTime",e[e.YearDayMonthWithFullTime=2]="YearDayMonthWithFullTime",e[e.YearDayMonthTime=3]="YearDayMonthTime"}(n=r.DateFormatEnum||(r.DateFormatEnum={})),function(e){function t(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"default":return e.Default;case"yearmonthdayTime":return e.YearMonthDayTime;case"yeardaymonthwithfulltime":return e.YearDayMonthWithFullTime;case"yeardaymonthtime":return e.YearDayMonthTime;default:throw new Error("Unsupported value for conversion: "+t)}}e.fromString=t}(n=r.DateFormatEnum||(r.DateFormatEnum={}));var o=function(){function e(e,t){void 0===e&&(e=n.Default),void 0===t&&(t="-"),this._formatEnum=e,this._dateSeparator=t}return Object.defineProperty(e.prototype,"formatEnum",{get:function(){return this._formatEnum},set:function(e){this._formatEnum=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateSeparator",{get:function(){return this._dateSeparator},set:function(e){this._dateSeparator=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._formatEnum,this._dateSeparator)},e}();r.DateFormat=o;var i=function(){function e(e,t,r){void 0===e&&(e=new o),void 0===t&&(t=!0),void 0===r&&(r=!0),this._showTimeStamp=!0,this._showLoggerName=!0,this._dateFormat=e,this._showTimeStamp=t,this._showLoggerName=r}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLoggerName",{get:function(){return this._showLoggerName},set:function(e){this._showLoggerName=e},enumerable:!0,configurable:!0}),e}();r.LogFormat=i;var a=function(){function e(e,t,r){void 0===e&&(e=new o),void 0===t&&(t=!0),void 0===r&&(r=!0),this._dateFormat=e,this._showTimeStamp=t,this._showCategoryName=r}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCategoryName",{get:function(){return this._showCategoryName},set:function(e){this._showCategoryName=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._dateFormat.copy(),this._showTimeStamp,this._showCategoryName)},e}();r.CategoryLogFormat=a},{}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../utils/DataStructures"),o=e("../../utils/MessageUtils"),i=e("../LoggerOptions"),a=function(){function e(e,t,r,n,o,i,a){this._resolvedErrorMessage=!1,this._errorAsStack=null,this._message=e,this._error=t,this._categories=r,this._date=n,this._level=o,this._logFormat=i,this._ready=a}return Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this._categories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMessageLogData",{get:function(){return"string"!=typeof this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageAsString",{get:function(){return"string"==typeof this._message?this._message:this._message.msg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logData",{get:function(){var e=null;return"string"!=typeof this._message&&(e=this.message),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this._ready},e.prototype.setReady=function(e){this._ready=e},Object.defineProperty(e.prototype,"resolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},set:function(e){this._resolvedErrorMessage=e},enumerable:!0,configurable:!0}),e}(),s=function(){function e(e,t){this.allMessages=new n.LinkedList,this.rootCategory=e,this.runtimeSettings=t}return e.prototype.trace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[i.LogLevel.Trace,e,null,!1].concat(t))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[i.LogLevel.Debug,e,null,!1].concat(t))},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[i.LogLevel.Info,e,null,!1].concat(t))},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[i.LogLevel.Warn,e,null,!1].concat(t))},e.prototype.error=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this._log.apply(this,[i.LogLevel.Error,e,t,!1].concat(r))},e.prototype.fatal=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this._log.apply(this,[i.LogLevel.Fatal,e,t,!1].concat(r))},e.prototype.resolved=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this._log.apply(this,[i.LogLevel.Error,e,t,!0].concat(r))},e.prototype.log=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];this._log.apply(this,[e,t,r,!1].concat(n))},e.prototype.getRootCategory=function(){return this.rootCategory},e.prototype.createDefaultLogMessage=function(e){return o.MessageFormatUtils.renderDefaultMessage(e,!0)},e.prototype._getMessageFormatter=function(){var e=this.runtimeSettings.getCategorySettings(this.rootCategory);if(null===e)throw new Error("Did not find CategorySettings for rootCategory: "+this.rootCategory.name);return e.formatterLogMessage},e.prototype._log=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=!1);for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=function(){return"function"==typeof t?t():t},s=function(){return"function"==typeof r?r():r};this._logInternal.apply(this,[e,a,s,n].concat(o))},e.prototype._logInternal=function(e,t,r,n){for(var i=this,s=[],u=4;u<arguments.length;u++)s[u-4]=arguments[u];var c=[this.rootCategory];void 0!==s&&s.length>0&&(c=c.concat(s.filter(function(e){return e!==i.rootCategory})));for(var p=this,l=0;l<c.length;l++){if("break"===function(s){var u=c[s];if(null===u)throw new Error("Cannot have a null element within categories, at index="+s);var l=p.runtimeSettings.getCategorySettings(u);if(null===l)throw new Error("Category with path: "+u.getCategoryPath()+" is not registered with this logger, maybe you registered it with a different root logger?");if(l.logLevel<=e){var d=null!==r?r():null;if(null===d){var f=new a(t(),d,c,new Date,e,l.logFormat,!0);f.resolvedErrorMessage=n,p.allMessages.addTail(f),p.processMessages()}else{var g=new a(t(),d,c,new Date,e,l.logFormat,!1);g.resolvedErrorMessage=n,p.allMessages.addTail(g),o.MessageFormatUtils.renderError(d).then(function(e){g.errorAsStack=e,g.setReady(!0),i.processMessages()}).catch(function(){g.errorAsStack="<UNKNOWN> unable to get stack.",g.setReady(!0),i.processMessages()})}return"break"}}(l))break}},e.prototype.processMessages=function(){var e=this.allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.isReady())break;e.removeHead(),this.doLog(t)}}while(e.getSize()>0)},e}();r.AbstractCategoryLogger=s},{"../../utils/DataStructures":135,"../../utils/MessageUtils":137,"../LoggerOptions":115}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LoggerOptions"),o=e("./CategoryService"),i=function(){function e(t,r){if(void 0===r&&(r=null),this._children=[],this._logLevel=n.LogLevel.Error,-1!==t.indexOf("#"))throw new Error("Cannot use # in a name of a Category");this._id=e.nextId(),this._name=t,this._parent=r,null!==this._parent&&this._parent._children.push(this),o.CategoryServiceImpl.getInstance().registerCategory(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),e.prototype.trace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.loadCategoryLogger(),(n=this._logger).trace.apply(n,[e].concat(t));var n},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.loadCategoryLogger(),(n=this._logger).debug.apply(n,[e].concat(t));var n},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.loadCategoryLogger(),(n=this._logger).info.apply(n,[e].concat(t));var n},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.loadCategoryLogger(),(n=this._logger).warn.apply(n,[e].concat(t));var n},e.prototype.error=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.loadCategoryLogger(),(o=this._logger).error.apply(o,[e,t].concat(r));var o},e.prototype.fatal=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.loadCategoryLogger(),(o=this._logger).fatal.apply(o,[e,t].concat(r));var o},e.prototype.resolved=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.loadCategoryLogger(),(o=this._logger).resolved.apply(o,[e,t].concat(r));var o},e.prototype.log=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];this.loadCategoryLogger(),(i=this._logger).log.apply(i,[e,t,r].concat(n));var i},e.prototype.getCategoryPath=function(){for(var e=this.name,t=this.parent;null!=t;)e=t.name+"#"+e,t=t.parent;return e},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.loadCategoryLogger=function(){if(this._logger||(this._logger=o.CategoryServiceImpl.getInstance().getLogger(this)),void 0===this._logger||null===this._logger)throw new Error("Failed to load a logger for category (should not happen): "+this.name)},e.nextId=function(){return e.currentId++},e.currentId=1,e}();r.Category=i},{"../LoggerOptions":115,"./CategoryService":124}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LoggerOptions"),o=function(){function e(e,t,r,o){if(void 0===e&&(e=n.LogLevel.Error),void 0===t&&(t=n.LoggerType.Console),void 0===r&&(r=new n.CategoryLogFormat),void 0===o&&(o=null),this._formatterLogMessage=null,this._logLevel=e,this._loggerType=t,this._logFormat=r,this._callBackLogger=o,this._loggerType===n.LoggerType.Custom&&null===this.callBackLogger)throw new Error("If you specify loggerType to be Custom, you must provide the callBackLogger argument")}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){if(null!==e&&this._loggerType===n.LoggerType.Custom)throw new Error("You cannot specify a formatter for log messages if your loggerType is Custom");this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){var t=new e(this.logLevel,this.loggerType,this.logFormat.copy(),this.callBackLogger);return t.formatterLogMessage=this.formatterLogMessage,t},e}();r.CategoryConfiguration=o},{"../LoggerOptions":115}],119:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../LoggerOptions"),i=e("./AbstractCategoryLogger"),a=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.messageAsString);var t=this._getMessageFormatter(),r=void 0;r=null===t?this.createDefaultLogMessage(e):t(e);var n=!1;switch(e.level){case o.LogLevel.Trace:case o.LogLevel.Debug:break;case o.LogLevel.Info:console.info&&(console.info(r),n=!0);break;case o.LogLevel.Warn:console.warn&&(console.warn(r),n=!0);break;case o.LogLevel.Error:case o.LogLevel.Fatal:console.error&&(console.error(r),n=!0);break;default:throw new Error("Unsupported level: "+e.level)}n||console.log(r)},t}(i.AbstractCategoryLogger);r.CategoryConsoleLoggerImpl=a},{"../LoggerOptions":115,"./AbstractCategoryLogger":116}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this._delegate=e}return Object.defineProperty(e.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),e.prototype.trace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];(n=this._delegate).trace.apply(n,[e].concat(t));var n},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];(n=this._delegate).debug.apply(n,[e].concat(t));var n},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];(n=this._delegate).info.apply(n,[e].concat(t));var n},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];(n=this._delegate).warn.apply(n,[e].concat(t));var n},e.prototype.error=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];(o=this._delegate).error.apply(o,[e,t].concat(r));var o},e.prototype.fatal=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];(o=this._delegate).fatal.apply(o,[e,t].concat(r));var o},e.prototype.resolved=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];(o=this._delegate).resolved.apply(o,[e,t].concat(r));var o},e.prototype.log=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];(i=this._delegate).log.apply(i,[e,t,r].concat(n));var i},e}();r.CategoryDelegateLoggerImpl=n},{}],121:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../extension/ExtensionHelper"),i=e("./AbstractCategoryLogger"),a=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.doLog=function(e){"undefined"!=typeof window?o.ExtensionHelper.sendCategoryLogMessage(e):console.log("window is not available, you must be running in a browser for this. Dropped message.")},t}(i.AbstractCategoryLogger);r.CategoryExtensionLoggerImpl=a},{"../../extension/ExtensionHelper":114,"./AbstractCategoryLogger":116}],122:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./AbstractCategoryLogger"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messages=[],t}return n(t,e),t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},t.prototype.doLog=function(e){var t,r=this._getMessageFormatter();t=null===r?this.createDefaultLogMessage(e):r(e),this.messages.push(t)},t}(o.AbstractCategoryLogger);r.CategoryMessageBufferLoggerImpl=i},{"./AbstractCategoryLogger":116}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LoggerOptions"),o=function(){function e(e,t,r,o,i,a){void 0===t&&(t=n.LogLevel.Error),void 0===r&&(r=n.LoggerType.Console),void 0===o&&(o=new n.CategoryLogFormat),void 0===i&&(i=null),void 0===a&&(a=null),this._formatterLogMessage=null,this._category=e,this._logLevel=t,this._loggerType=r,this._logFormat=o,this._callBackLogger=i,this._formatterLogMessage=a}return Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e}();r.CategoryRuntimeSettings=o},{"../LoggerOptions":115}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../utils/DataStructures"),o=e("../LoggerOptions"),i=e("./CategoryConsoleLoggerImpl"),a=e("./CategoryDelegateLoggerImpl"),s=e("./CategoryExtensionLoggerImpl"),u=e("./CategoryMessageBufferImpl"),c=e("../../extension/ExtensionHelper"),p=e("./CategoryRuntimeSettings"),l=e("./CategoryConfiguration"),d=function(){function e(){this._defaultConfig=new l.CategoryConfiguration,this._mapState=new n.SimpleMap,c.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.getLogger=function(e){return this.createOrGetCategoryState(e).logger},e.prototype.clear=function(){this._mapState.clear(),this.setDefaultConfiguration(new l.CategoryConfiguration)},e.prototype.getCategorySettings=function(e){return this.createOrGetCategoryState(e).currentRuntimeSettings},e.prototype.getOriginalCategorySettings=function(e){return this.createOrGetCategoryState(e).originalRuntimeSettings},e.prototype.setDefaultConfiguration=function(e,t){void 0===t&&(t=!0),this._defaultConfig=e,t&&this._mapState.forEachValue(function(t){t.updateSettings(e)})},e.prototype.setConfigurationCategory=function(e,t,r){var n=this;void 0===r&&(r=!1),this.createOrGetCategoryState(t).updateSettings(e),r&&t.children.forEach(function(t){n.setConfigurationCategory(e,t,r)})},e.prototype.registerCategory=function(t){if(null===t||void 0===t)throw new Error("Category CANNOT be null/undefined");if(this._mapState.exists(e.getCategoryKey(t)))throw new Error("Cannot add this root category with name: "+t.name+", it already exists (same name in hierarchy).");this.createOrGetCategoryState(t)},e.prototype.enableExtensionIntegration=function(){var e=this;this._mapState.forEachValue(function(t){return t.enableForExtension(e)})},e.prototype.getRootCategories=function(){return this._mapState.values().filter(function(e){return null==e.category.parent}).map(function(e){return e.category})},e.prototype.getCategoryById=function(e){var t=this._mapState.values().filter(function(t){return t.category.id===e}).map(function(e){return e.category});return 1===t.length?t[0]:null},e.prototype.createOrGetCategoryState=function(t){var r=e.getCategoryKey(t),n=this._mapState.get(r);if(void 0!==n)return n;var o=this.createState(t);return this._mapState.put(r,o),o},e.prototype.createState=function(e){var t=this;return new f(e,function(){return t._defaultConfig},function(e,r){return t.createLogger(e,r)})},e.prototype.createLogger=function(e,t){switch(e.loggerType){case o.LoggerType.Console:return new i.CategoryConsoleLoggerImpl(t,this);case o.LoggerType.MessageBuffer:return new u.CategoryMessageBufferLoggerImpl(t,this);case o.LoggerType.Custom:if(null===e.callBackLogger)throw new Error("Cannot create custom logger, custom callback is null");return e.callBackLogger(t,this);default:throw new Error("Cannot create a Logger for LoggerType: "+e.loggerType)}},e.getCategoryKey=function(e){return e.getCategoryPath()},e._INSTANCE=null,e}();r.CategoryServiceImpl=d;var f=function(){function e(e,t,r){this._category=e,this._lazyState=new g(e,t,r)}return Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this._lazyState.getLogger()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalRuntimeSettings",{get:function(){return this._lazyState.getOriginalRuntimeSettings()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentRuntimeSettings",{get:function(){return this._lazyState.getCurrentRuntimeSettings()},enumerable:!0,configurable:!0}),e.prototype.enableForExtension=function(e){this._lazyState.enableForExtension(e)},e.prototype.updateSettings=function(e){this._lazyState.updateSettings(e)},e}(),g=function(){function e(e,t,r){this._category=e,this._defaultConfig=t,this._createLogger=r}
return e.prototype.isLoaded=function(){return void 0!==this._logger},e.prototype.getLogger=function(){return this.loadLoggerOnDemand(),this._delegateLogger},e.prototype.getOriginalRuntimeSettings=function(){return this.loadLoggerOnDemand(),this._originalRuntimeSettings},e.prototype.getCurrentRuntimeSettings=function(){return this.loadLoggerOnDemand(),this._currentRuntimeSettings},e.prototype.enableForExtension=function(e){this.loadLoggerOnDemand(),this._wrappedLogger instanceof s.CategoryExtensionLoggerImpl||(console.log("Reconfiguring logger for extension for category: "+this._category.name),this._wrappedLogger=new s.CategoryExtensionLoggerImpl(this._category,e),this._delegateLogger.delegate=this._wrappedLogger)},e.prototype.updateSettings=function(e){this.isLoaded()?(this._currentRuntimeSettings.logLevel=e.logLevel,this._currentRuntimeSettings.loggerType=e.loggerType,this._currentRuntimeSettings.logFormat=e.logFormat,this._currentRuntimeSettings.callBackLogger=e.callBackLogger,this._currentRuntimeSettings.formatterLogMessage=e.formatterLogMessage,this._logger=this._createLogger(e,this._category),this._wrappedLogger instanceof s.CategoryExtensionLoggerImpl||(this._wrappedLogger=this._logger),this._delegateLogger.delegate=this._wrappedLogger):this._defaultConfig=function(){return e}},e.prototype.loadLoggerOnDemand=function(){this.isLoaded()||(this._logger=this._createLogger(this._defaultConfig(),this._category),this._wrappedLogger=this._logger,this._delegateLogger=new a.CategoryDelegateLoggerImpl(this._wrappedLogger),this._originalRuntimeSettings=this.initNewSettings(),this._currentRuntimeSettings=this.initNewSettings())},e.prototype.initNewSettings=function(){var e=this._defaultConfig().copy();return new p.CategoryRuntimeSettings(this._category,e.logLevel,e.loggerType,e.logFormat,e.callBackLogger,e.formatterLogMessage)},e}()},{"../../extension/ExtensionHelper":114,"../../utils/DataStructures":135,"../LoggerOptions":115,"./CategoryConfiguration":118,"./CategoryConsoleLoggerImpl":119,"./CategoryDelegateLoggerImpl":120,"./CategoryExtensionLoggerImpl":121,"./CategoryMessageBufferImpl":122,"./CategoryRuntimeSettings":123}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./CategoryService"),o=function(){function e(){}return e.getLogger=function(e){return n.CategoryServiceImpl.getInstance().getLogger(e)},e.clear=function(){return n.CategoryServiceImpl.getInstance().clear()},e.setDefaultConfiguration=function(e,t){void 0===t&&(t=!0),n.CategoryServiceImpl.getInstance().setDefaultConfiguration(e,t)},e.setConfigurationCategory=function(e,t,r){void 0===r&&(r=!1),n.CategoryServiceImpl.getInstance().setConfigurationCategory(e,t,r)},e}();r.CategoryServiceFactory=o},{"./CategoryService":124}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LoggerOptions"),o=e("../../utils/DataStructures"),i=e("../../utils/MessageUtils"),a=function(){function e(e,t,r,n,o,i,a,s){this._errorAsStack=null,this._error=null,this._loggerName=e,this._message=t,this._errorAsStack=r,this._error=n,this._logGroupRule=o,this._date=i,this._level=a,this._ready=s}return Object.defineProperty(e.prototype,"loggerName",{get:function(){return this._loggerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},set:function(e){this._logGroupRule=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMessageLogData",{get:function(){return"string"!=typeof this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._ready},set:function(e){this._ready=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageAsString",{get:function(){return"string"==typeof this._message?this._message:this._message.msg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logData",{get:function(){var e=null;return"string"!=typeof this._message&&(e=this.message),e},enumerable:!0,configurable:!0}),e}(),s=function(){function e(e,t){this._allMessages=new o.LinkedList,this._open=!0,this._name=e,this._logGroupRuntimeSettings=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.trace=function(e,t){void 0===t&&(t=null),this._log(n.LogLevel.Trace,e,t)},e.prototype.debug=function(e,t){void 0===t&&(t=null),this._log(n.LogLevel.Debug,e,t)},e.prototype.info=function(e,t){void 0===t&&(t=null),this._log(n.LogLevel.Info,e,t)},e.prototype.warn=function(e,t){void 0===t&&(t=null),this._log(n.LogLevel.Warn,e,t)},e.prototype.error=function(e,t){void 0===t&&(t=null),this._log(n.LogLevel.Error,e,t)},e.prototype.fatal=function(e,t){void 0===t&&(t=null),this._log(n.LogLevel.Fatal,e,t)},e.prototype.isTraceEnabled=function(){return this._logGroupRuntimeSettings.level===n.LogLevel.Trace},e.prototype.isDebugEnabled=function(){return this._logGroupRuntimeSettings.level<=n.LogLevel.Debug},e.prototype.isInfoEnabled=function(){return this._logGroupRuntimeSettings.level<=n.LogLevel.Info},e.prototype.isWarnEnabled=function(){return this._logGroupRuntimeSettings.level<=n.LogLevel.Warn},e.prototype.isErrorEnabled=function(){return this._logGroupRuntimeSettings.level<=n.LogLevel.Error},e.prototype.isFatalEnabled=function(){return this._logGroupRuntimeSettings.level<=n.LogLevel.Fatal},e.prototype.getLogLevel=function(){return this._logGroupRuntimeSettings.level},e.prototype.isOpen=function(){return this._open},e.prototype.close=function(){this._open=!1,this._allMessages.clear()},e.prototype.createDefaultLogMessage=function(e){return i.MessageFormatUtils.renderDefaultLog4jMessage(e,!0)},e.prototype._getMessageFormatter=function(){return this._logGroupRuntimeSettings.formatterLogMessage},e.prototype._log=function(e,t,r){if(void 0===r&&(r=null),this._open&&this._logGroupRuntimeSettings.level<=e){var n=function(){return"function"==typeof t?t():t},o=function(){return"function"==typeof r?r():r};this._allMessages.addTail(this.createMessage(e,n,o,new Date)),this.processMessages()}},e.prototype.createMessage=function(e,t,r,n){var o=this,s=r();if(null!==s){var u=new a(this._name,t(),null,s,this._logGroupRuntimeSettings.logGroupRule,n,e,!1);return i.MessageFormatUtils.renderError(s).then(function(e){u.errorAsStack=e,u.ready=!0,o.processMessages()}).catch(function(){u.errorAsStack="<UNKNOWN> unable to get stack.",u.ready=!0,o.processMessages()}),u}return new a(this._name,t(),null,s,this._logGroupRuntimeSettings.logGroupRule,n,e,!0)},e.prototype.processMessages=function(){var e=this._allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.ready)break;e.removeHead(),null!==t.message&&this.doLog(t)}}while(e.getSize()>0)},e}();r.AbstractLogger=s},{"../../utils/DataStructures":135,"../../utils/MessageUtils":137,"../LoggerOptions":115}],127:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./AbstractLogger"),i=e("../LoggerOptions"),a=function(e){function t(t,r){return e.call(this,t,r)||this}return n(t,e),t.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.message);var t=!1,r=e.level,n=this._getMessageFormatter(),o=void 0;switch(o=null===n?this.createDefaultLogMessage(e):n(e),r){case i.LogLevel.Trace:case i.LogLevel.Debug:break;case i.LogLevel.Info:console.info&&(console.info(o),t=!0);break;case i.LogLevel.Warn:console.warn&&(console.warn(o),t=!0);break;case i.LogLevel.Error:case i.LogLevel.Fatal:console.error&&(console.error(o),t=!0);break;default:throw new Error("Log level not supported: "+r)}t||console.log(o)},t}(o.AbstractLogger);r.ConsoleLoggerImpl=a},{"../LoggerOptions":115,"./AbstractLogger":126}],128:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../utils/DataStructures"),o=e("../LoggerOptions"),i=e("./LoggerFactoryImpl"),a=e("../../extension/ExtensionHelper"),s=e("./LogGroupRule"),u=e("./LoggerFactoryOptions"),c=function(){function e(){this._nameCounter=1,this._mapFactories=new n.SimpleMap,a.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.createLoggerFactory=function(e){void 0===e&&(e=null);var t="LoggerFactory"+this._nameCounter++;return this.createNamedLoggerFactory(t,e)},e.prototype.createNamedLoggerFactory=function(t,r){if(void 0===r&&(r=null),this._mapFactories.exists(t))throw new Error("LoggerFactory with name "+t+" already exists.");var n;return n=null!==r?new i.LoggerFactoryImpl(t,r):new i.LoggerFactoryImpl(t,e.createDefaultOptions()),this._mapFactories.put(t,n),n},e.prototype.closeLoggers=function(){this._mapFactories.values().forEach(function(e){e.closeLoggers()}),this._mapFactories.clear(),this._nameCounter=1},e.prototype.getRuntimeSettingsForLoggerFactories=function(){var e=[];return this._mapFactories.forEachValue(function(t){return e.push(t)}),e},e.prototype.getLogGroupSettings=function(e,t){var r=this._mapFactories.get(e);return void 0===r?null:r.getLogGroupRuntimeSettingsByIndex(t)},e.prototype.getLoggerFactoryRuntimeSettingsByName=function(e){var t=this._mapFactories.get(e);return void 0===t?null:t},e.createDefaultOptions=function(){return(new u.LoggerFactoryOptions).addLogGroupRule(new s.LogGroupRule(new RegExp(".+"),o.LogLevel.Info))},e._INSTANCE=null,e}(),p=function(){function e(){}return e.createLoggerFactory=function(t){return void 0===t&&(t=null),e.INSTANCE_SERVICE.createLoggerFactory(t)},e.createNamedLoggerFactory=function(t,r){if(void 0===r&&(r=null),t===e.DEFAULT_LOGGER_FACTORY_NAME)throw new Error("LoggerFactory name: "+e.DEFAULT_LOGGER_FACTORY_NAME+" is reserved and cannot be used.");return e.INSTANCE_SERVICE.createNamedLoggerFactory(t,r)},e.closeLoggers=function(){return e.INSTANCE_SERVICE.closeLoggers()},e.getRuntimeSettings=function(){return e.INSTANCE_SERVICE},Object.defineProperty(e,"DEFAULT",{get:function(){return e.getDefault()},enumerable:!0,configurable:!0}),e.getDefault=function(){return null===e.DEFAULT_LOGGER_FACTORY&&(e.DEFAULT_LOGGER_FACTORY=e.DEFAULT_LOGGER_FACTORY=e.INSTANCE_SERVICE.createNamedLoggerFactory(e.DEFAULT_LOGGER_FACTORY_NAME,(new u.LoggerFactoryOptions).addLogGroupRule(new s.LogGroupRule(new RegExp(".+"),o.LogLevel.Error)))),e.DEFAULT_LOGGER_FACTORY},e.DEFAULT_LOGGER_FACTORY_NAME="DEFAULT",e.INSTANCE_SERVICE=c.getInstance(),e.DEFAULT_LOGGER_FACTORY=null,e}();r.LFService=p},{"../../extension/ExtensionHelper":114,"../../utils/DataStructures":135,"../LoggerOptions":115,"./LogGroupRule":129,"./LoggerFactoryImpl":131,"./LoggerFactoryOptions":132}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LoggerOptions"),o=function(){function e(e,t,r,o,i){void 0===r&&(r=new n.LogFormat),void 0===o&&(o=n.LoggerType.Console),void 0===i&&(i=null),this._formatterLogMessage=null,this._regExp=e,this._level=t,this._logFormat=r,this._loggerType=o,this._callBackLogger=i}return Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){if(null!==e&&this._loggerType===n.LoggerType.Custom)throw new Error("You cannot specify a formatter for log messages if your loggerType is Custom");this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e}();r.LogGroupRule=o},{"../LoggerOptions":115}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LoggerOptions"),o=function(){function e(e){this._formatterLogMessage=null,this._logGroupRule=e,this._level=e.level,this._loggerType=e.loggerType,this._logFormat=new n.LogFormat(new n.DateFormat(e.logFormat.dateFormat.formatEnum,e.logFormat.dateFormat.dateSeparator),e.logFormat.showTimeStamp,e.logFormat.showLoggerName),this._callBackLogger=e.callBackLogger,this._formatterLogMessage=e.formatterLogMessage}return Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e}();r.LogGroupRuntimeSettings=o},{"../LoggerOptions":115}],131:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../utils/DataStructures"),o=e("../LoggerOptions"),i=e("./ConsoleLoggerImpl"),a=e("./MessageBufferLoggerImpl"),s=e("./AbstractLogger"),u=e("./LogGroupRuntimeSettings"),c=function(){function e(e,t){this._loggers=new n.SimpleMap,this._logGroupRuntimeSettingsIndexed=[],this._loggerToLogGroupSettings=new n.SimpleMap,this._name=e,this.configure(t)}return e.prototype.configure=function(e){this._options=e,this.closeLoggers(),this._loggerToLogGroupSettings.clear(),this._logGroupRuntimeSettingsIndexed=[];for(var t=this._options.logGroupRules,r=0;r<t.length;r++)this._logGroupRuntimeSettingsIndexed.push(new u.LogGroupRuntimeSettings(t[r]))},e.prototype.getLogger=function(e){if(!this._options.enabled)throw new Error("LoggerFactory is not enabled, please check your options passed in");var t=this._loggers.get(e);return void 0!==t?t:(t=this.loadLogger(e),this._loggers.put(e,t),t)},e.prototype.isEnabled=function(){return this._options.enabled},e.prototype.closeLoggers=function(){this._loggers.forEachValue(function(e){e instanceof s.AbstractLogger&&e.close()}),this._loggers.clear()},e.prototype.getName=function(){return this._name},e.prototype.getLogGroupRuntimeSettingsByIndex=function(e){return e>=0&&e<this._logGroupRuntimeSettingsIndexed.length?this._logGroupRuntimeSettingsIndexed[e]:null},e.prototype.getLogGroupRuntimeSettingsByLoggerName=function(e){var t=this._loggerToLogGroupSettings.get(e);return void 0===t?null:t},e.prototype.getLogGroupRuntimeSettings=function(){return this._logGroupRuntimeSettingsIndexed.slice(0)},e.prototype.loadLogger=function(e){for(var t=this._options.logGroupRules,r=0;r<t.length;r++){var n=t[r];if(n.regExp.test(e)){var s=this._logGroupRuntimeSettingsIndexed[r],u=void 0;switch(n.loggerType){case o.LoggerType.Console:u=new i.ConsoleLoggerImpl(e,s);break;case o.LoggerType.MessageBuffer:u=new a.MessageBufferLoggerImpl(e,s);break;case o.LoggerType.Custom:if(null==n.callBackLogger)throw new Error("Cannot create a custom logger, custom callback is null");u=n.callBackLogger(e,s);break;default:throw new Error("Cannot create a Logger for LoggerType: "+n.loggerType)}return this._loggerToLogGroupSettings.put(e,s),u}}throw new Error("Failed to find a match to create a Logger for: "+e)},e}();r.LoggerFactoryImpl=c},{"../../utils/DataStructures":135,"../LoggerOptions":115,"./AbstractLogger":126,"./ConsoleLoggerImpl":127,"./LogGroupRuntimeSettings":130,"./MessageBufferLoggerImpl":133}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this._logGroupRules=[],this._enabled=!0}return e.prototype.addLogGroupRule=function(e){return this._logGroupRules.push(e),this},e.prototype.setEnabled=function(e){return this._enabled=e,this},Object.defineProperty(e.prototype,"logGroupRules",{get:function(){return this._logGroupRules},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e}();r.LoggerFactoryOptions=n},{}],133:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("./AbstractLogger"),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.messages=[],n}return n(t,e),t.prototype.close=function(){this.messages=[],e.prototype.close.call(this)},t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},t.prototype.doLog=function(e){var t,r=this._getMessageFormatter();t=null===r?this.createDefaultLogMessage(e):r(e),this.messages.push(t)},t}(o.AbstractLogger);r.MessageBufferLoggerImpl=i},{"./AbstractLogger":126}],134:[function(e,t,r){"use strict";function n(){console.log("help()\n   ** Shows this help\n\n getLogControl(): LoggerControl\n   ** Returns LoggerControl Object, use to dynamically change loglevels for log4j logging.\n   ** Call .help() on LoggerControl object for available options.\n\n getCategoryControl(): CategoryServiceControl\n   ** Returns CategoryServiceControl Object, use to dynamically change loglevels for category logging.\n   ** Call .help() on CategoryServiceControl object for available options.\n")}function o(){return new a.LoggerControlImpl}function i(){return new s.CategoryServiceControlImpl}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./control/LogGroupControl"),s=e("./control/CategoryServiceControl"),u=e("./extension/ExtensionHelper");r.ExtensionHelper=u.ExtensionHelper;var c=e("./log/category/AbstractCategoryLogger");r.AbstractCategoryLogger=c.AbstractCategoryLogger;var p=e("./log/category/CategoryConsoleLoggerImpl");r.CategoryConsoleLoggerImpl=p.CategoryConsoleLoggerImpl;var l=e("./log/category/CategoryDelegateLoggerImpl");r.CategoryDelegateLoggerImpl=l.CategoryDelegateLoggerImpl;var d=e("./log/category/Category");r.Category=d.Category;var f=e("./log/category/CategoryRuntimeSettings");r.CategoryRuntimeSettings=f.CategoryRuntimeSettings;var g=e("./log/category/CategoryConfiguration");r.CategoryConfiguration=g.CategoryConfiguration;var m=e("./log/category/CategoryMessageBufferImpl");r.CategoryMessageBufferLoggerImpl=m.CategoryMessageBufferLoggerImpl;var h=e("./log/category/CategoryServiceFactory");r.CategoryServiceFactory=h.CategoryServiceFactory;var y=e("./log/standard/LoggerFactoryOptions");r.LoggerFactoryOptions=y.LoggerFactoryOptions;var v=e("./log/standard/LogGroupRule");r.LogGroupRule=v.LogGroupRule;var _=e("./log/standard/LFService");r.LFService=_.LFService;var b=e("./log/standard/AbstractLogger");r.AbstractLogger=b.AbstractLogger;var w=e("./log/standard/ConsoleLoggerImpl");r.ConsoleLoggerImpl=w.ConsoleLoggerImpl;var S=e("./log/standard/MessageBufferLoggerImpl");r.MessageBufferLoggerImpl=S.MessageBufferLoggerImpl;var E=e("./log/LoggerOptions");r.CategoryLogFormat=E.CategoryLogFormat,r.DateFormat=E.DateFormat,r.DateFormatEnum=E.DateFormatEnum,r.LogFormat=E.LogFormat,r.LoggerType=E.LoggerType,r.LogLevel=E.LogLevel;var T=e("./utils/DataStructures");r.SimpleMap=T.SimpleMap,r.LinkedList=T.LinkedList,function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("./utils/JSONHelper"));var D=e("./utils/MessageUtils");r.MessageFormatUtils=D.MessageFormatUtils,r.help=n,r.getLogControl=o,r.getCategoryControl=i},{"./control/CategoryServiceControl":112,"./control/LogGroupControl":113,"./extension/ExtensionHelper":114,"./log/LoggerOptions":115,"./log/category/AbstractCategoryLogger":116,"./log/category/Category":117,"./log/category/CategoryConfiguration":118,"./log/category/CategoryConsoleLoggerImpl":119,"./log/category/CategoryDelegateLoggerImpl":120,"./log/category/CategoryMessageBufferImpl":122,"./log/category/CategoryRuntimeSettings":123,"./log/category/CategoryServiceFactory":125,"./log/standard/AbstractLogger":126,"./log/standard/ConsoleLoggerImpl":127,"./log/standard/LFService":128,"./log/standard/LogGroupRule":129,"./log/standard/LoggerFactoryOptions":132,"./log/standard/MessageBufferLoggerImpl":133,"./utils/DataStructures":135,"./utils/JSONHelper":136,"./utils/MessageUtils":137}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this._previous=null,this._next=null,this._value=e}return Object.defineProperty(e.prototype,"previous",{get:function(){return this._previous},set:function(e){this._previous=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),o=function(){function e(){this.head=null,this.size=0}return e.prototype.addHead=function(e){if(!this.createHeadIfNeeded(e)){if(null==this.head)throw new Error("This should never happen, list implementation broken");var t=this.head.next,r=new n(e);null!=t&&(t.previous=r,r.next=t),this.head=r}this.size++},e.prototype.addTail=function(e){if(!this.createHeadIfNeeded(e)){var t=this.getTailNode();if(null==t)throw new Error("List implementation broken");var r=new n(e);t.next=r,r.previous=t}this.size++},e.prototype.clear=function(){this.head=null,this.size=0},e.prototype.getHead=function(){return null!=this.head?this.head.value:null},e.prototype.removeHead=function(){if(null!=this.head){var e=this.head,t=e.value;return this.head=e.next,this.size--,t}return null},e.prototype.getTail=function(){var e=this.getTailNode();return null!=e?e.value:null},e.prototype.removeTail=function(){var e=this.getTailNode();if(null!=e){if(e===this.head)this.head=null;else{var t=e.previous;if(null==t)throw new Error("List implementation is broken");t.next=null}return this.size--,e.value}return null},e.prototype.getSize=function(){return this.size},e.prototype.filter=function(e){var t=function(e,r,n){e(r.value)&&n.push(r.value);var o=r.next;null!=o&&t(e,o,n)},r=[],n=this.head;return null!=n&&t(e,n,r),r},e.prototype.createHeadIfNeeded=function(e){return null==this.head&&(this.head=new n(e),!0)},e.prototype.getTailNode=function(){if(null==this.head)return null;for(var e=this.head;null!=e.next;)e=e.next;return e},e}();r.LinkedList=o;var i=function(){function e(){this.array={}}return e.prototype.put=function(e,t){this.array[e]=t},e.prototype.get=function(e){return this.array[e]},e.prototype.exists=function(e){return void 0!==this.array[e]},e.prototype.remove=function(e){var t=this.array[e];return void 0!==t&&delete this.array[e],t},e.prototype.keys=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(t);return e},e.prototype.values=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(this.get(t));return e},e.prototype.size=function(){return this.keys().length},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this.array={}},e.prototype.forEach=function(e){var t=0;for(var r in this.array)if(this.array.hasOwnProperty(r)){var n=this.array[r];e(r,n,t),t++}},e.prototype.forEachValue=function(e){var t=0;for(var r in this.array)if(this.array.hasOwnProperty(r)){var n=this.array[r];e(n,t),t++}},e}();r.SimpleMap=i;var a=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),e}();r.TuplePair=a;var s=function(){function e(){this.data=[]}return e.prototype.append=function(e){if(void 0===e||null==e)throw new Error("String must be set, cannot append null or undefined");return this.data.push(e),this},e.prototype.appendLine=function(e){return this.data.push(e+"\n"),this},e.prototype.isEmpty=function(){return 0===this.data.length},e.prototype.clear=function(){this.data=[]},e.prototype.toString=function(e){return void 0===e&&(e=""),this.data.join(e)},e}();r.StringBuilder=s},{}],136:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../log/LoggerOptions"),i=e("./DataStructures"),a=function(){function e(e){this._value=e}return e.prototype.getValue=function(){return this._value},e.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},e}(),s=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t}(a),u=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t}(a),c=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?JSON.stringify(e.toString()):"null"},t}(a),p=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t}(a),l=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},t}(a),d=function(e){function t(){return e.call(this,null)||this}return n(t,e),t.prototype.toString=function(){return"null"},t}(a),f=function(){function e(){}return e.toJSONType=function(e){if(null===e)return new d;if("string"==typeof e)return new c(e);if("number"==typeof e)return new u(e);if("boolean"==typeof e)return new s(e);if(e instanceof g)return new p(e);throw new Error("Type not supported for value: "+e)},e}(),g=function(){function e(){this.values=new i.SimpleMap}return e.prototype.addBoolean=function(t,r){return this.checkName(t),e.checkValue(r),this.values.put(t,new s(r)),this},e.prototype.addNumber=function(t,r){return this.checkName(t),e.checkValue(r),this.values.put(t,new u(r)),this},e.prototype.addString=function(t,r){return this.checkName(t),e.checkValue(r),this.values.put(t,new c(r)),this},e.prototype.addNull=function(e){return this.checkName(e),this.values.put(e,new d),this},e.prototype.addArray=function(t,r){if(this.checkName(t),e.checkValue(r),null==r)throw new Error("Cannot add array as null");return this.values.put(t,new l(r)),this},e.prototype.addObject=function(t,r){if(this.checkName(t),e.checkValue(r),null==r)throw new Error("Cannot add object as null");return this.values.put(t,new p(r)),this},e.prototype.toString=function(e){var t=this;void 0===e&&(e=!1);var r=!1,n=new i.StringBuilder;return n.append("{"),this.values.keys().forEach(function(e){var o=t.values.get(e);null!=o&&(r&&n.append(","),n.append('"').append(e).append('":').append(o.toString()),r=!0)}),n.append("}"),n.toString()},e.prototype.checkName=function(e){if(null==e||void 0===e)throw new Error("Name is null or undefined");if(this.values.exists(e))throw new Error("Name "+e+" is already present for this object")},e.checkValue=function(e){if(void 0===e)throw new Error("Value is undefined")},e}();r.JSONObject=g;var m=function(){function e(){this.objects=[]}return e.prototype.add=function(e){if(void 0===e)throw new Error("Object is not allowed to be undefined");return this.objects.push(f.toJSONType(e)),this},e.prototype.toString=function(e){void 0===e&&(e=!1);var t=new i.StringBuilder;return t.append("["),this.objects.forEach(function(e,r){r>0&&t.append(","),t.append(e.toString())}),t.append("]"),t.toString()},e}();r.JSONArray=m;var h=function(){function e(){}return e.categoryToJSON=function(t,r){var n=new m;e._categoryToJSON(t,n,r);var o=new g;return o.addArray("categories",n),o},e._categoryToJSON=function(t,r,n){var i=new g;i.addNumber("id",t.id),i.addString("name",t.name),i.addString("logLevel",o.LogLevel[t.logLevel].toString()),null!=t.parent?i.addNumber("parent",t.parent.id):i.addNull("parent"),r.add(i),n&&t.children.forEach(function(t){e._categoryToJSON(t,r,n)})},e}();r.JSONHelper=h},{"../log/LoggerOptions":115,"./DataStructures":135}],137:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("stacktrace-js"),o=e("../log/LoggerOptions"),i=function(){function e(){}return e.renderDate=function(e,t){var r=function(e,t,r){var n=t-e.length;if(n>0){for(var o="",i=0;i<n;i++)o+=r;return o+=e}return e},n=function(e){return r(e.getFullYear().toString(),4,"0")},i=function(e){return r((e.getMonth()+1).toString(),2,"0")},a=function(e){return r(e.getDate().toString(),2,"0")},s=function(e){return r(e.getHours().toString(),2,"0")},u=function(e){return r(e.getMinutes().toString(),2,"0")},c=function(e){return r(e.getSeconds().toString(),2,"0")},p=function(e){return r(e.getMilliseconds().toString(),3,"0")},l=t.dateSeparator,d="";switch(t.formatEnum){case o.DateFormatEnum.Default:d=n(e)+l+i(e)+l+a(e)+" "+s(e)+":"+u(e)+":"+c(e)+","+p(e);break;case o.DateFormatEnum.YearMonthDayTime:d=n(e)+l+i(e)+l+a(e)+" "+s(e)+":"+u(e)+":"+c(e);break;case o.DateFormatEnum.YearDayMonthWithFullTime:d=n(e)+l+a(e)+l+i(e)+" "+s(e)+":"+u(e)+":"+c(e)+","+p(e);break;case o.DateFormatEnum.YearDayMonthTime:d=n(e)+l+a(e)+l+i(e)+" "+s(e)+":"+u(e)+":"+c(e);break;default:throw new Error("Unsupported date format enum: "+t.formatEnum)}return d},e.renderDefaultMessage=function(t,r){var n="",i=t.logFormat;i.showTimeStamp&&(n+=e.renderDate(t.date,i.dateFormat)+" "),n+=o.LogLevel[t.level].toUpperCase(),t.isResolvedErrorMessage&&(n+=" (resolved)"),n+=" ",i.showCategoryName&&(n+="[",t.categories.forEach(function(e,t){t>0&&(n+=", "),n+=e.name}),n+="]");var a="",s="",u=t.message;if("string"==typeof u)a=u;else{var c=u;a=c.msg,c.data&&(s=" [data]: "+(c.ds?c.ds(c.data):JSON.stringify(c.data)))}return n+=" "+a+s,r&&null!==t.errorAsStack&&(n+="\n"+t.errorAsStack),n},e.renderDefaultLog4jMessage=function(t,r){var n=t.logGroupRule.logFormat,i="";n.showTimeStamp&&(i+=e.renderDate(t.date,n.dateFormat)+" "),i+=o.LogLevel[t.level].toUpperCase()+" ",n.showLoggerName&&(i+="["+t.loggerName+"]");var a="",s="";if("string"==typeof t.message)a=t.message;else{var u=t.message;a=u.msg,u.data&&(s=" [data]: "+(u.ds?u.ds(u.data):JSON.stringify(u.data)))}
return i+=" "+a+s,r&&null!==t.errorAsStack&&(i+="\n"+t.errorAsStack),i},e.renderError=function(e){var t=e.name+": "+e.message+"\n@";return new Promise(function(r){n.fromError(e,{offline:!0}).then(function(e){var n=e.map(function(e){return e.toString()}).join("\n  ");t+="\n"+n,r(t)}).catch(function(){t="Unexpected error object was passed in. ";try{t+="Could not resolve it, stringified object: "+JSON.stringify(e)}catch(e){t+="Could not resolve it or stringify it."}r(t)})})},e}();r.MessageFormatUtils=i},{"../log/LoggerOptions":115,"stacktrace-js":105}],138:[function(e,t,r){function n(e,t){return t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket,a=e("./version");i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(n,e,{get:function(){return i[e]}})}),t.exports={w3cwebsocket:i?n:null,version:a}},{"./version":139}],139:[function(e,t,r){t.exports=e("../package.json").version},{"../package.json":140}],140:[function(e,t,r){t.exports={_from:"websocket@^1.0.28",_id:"websocket@1.0.28",_inBundle:!1,_integrity:"sha512-00y/20/80P7H4bCYkzuuvvfDvh+dgtXi5kzDf3UcZwN6boTYaKvsrtZ5lIYm1Gsg48siMErd9M4zjSYfYFHTrA==",_location:"/websocket",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"websocket@^1.0.28",name:"websocket",escapedName:"websocket",rawSpec:"^1.0.28",saveSpec:null,fetchSpec:"^1.0.28"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/websocket/-/websocket-1.0.28.tgz",_shasum:"9e5f6fdc8a3fe01d4422647ef93abdd8d45a78d3",_spec:"websocket@^1.0.28",_where:"/home/circleci/build",author:{name:"Brian McKelvey",email:"theturtle32@gmail.com",url:"https://github.com/theturtle32"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},bundleDependencies:!1,config:{verbose:!1},contributors:[{name:"Iaki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],dependencies:{debug:"^2.2.0",nan:"^2.11.0","typedarray-to-buffer":"^3.1.5",yaeti:"^0.0.6"},deprecated:!1,description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.9.1"},directories:{lib:"./lib"},engines:{node:">=0.10.0"},homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",name:"websocket",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.28"}},{}]},{},[72])(72)});
//# sourceMappingURL=index.min.js.map
